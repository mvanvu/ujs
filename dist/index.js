!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("$ujs",[],t):"object"==typeof exports?exports.$ujs=t():e.$ujs=t()}(this,(()=>(()=>{"use strict";var e={885:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(769),t),o(r(877),t)},540:(e,t)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,r){return o=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&c(o,r.prototype),o},o.apply(null,arguments)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function u(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return o(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},l(e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.DateTime=t.DateTimeError=void 0;var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,r,o=(t=a,r=s(),function(){var e,n,o,a,u=i(t);if(r){var c=i(this).constructor;e=Reflect.construct(u,arguments,c)}else e=u.apply(this,arguments);return n=this,!(o=e)||"object"!=((a=o)&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function a(){return n(this,a),o.apply(this,arguments)}return a}(l(Error));t.DateTimeError=f;var y=function(){function e(t,r){n(this,e);var o=e.parse(t);this.isValid=!!o,o?(this.date=o,this.offset=this.date.getTimezoneOffset(),void 0!==r&&this.setOffset(r)):this.date=new Date("")}var t,o,i;return t=e,o=[{key:"valid",get:function(){return this.isValid}},{key:"iso",get:function(){return this.date.toISOString()}},{key:"native",get:function(){return this.date}},{key:"tzOffset",get:function(){var e=Math.floor(this.offset/60),t=Math.abs(this.offset)%60;return"".concat(e<=0?"+":"-").concat(String(Math.abs(e)).padStart(2,"0"),":").concat(String(Math.abs(t)).padStart(2,"0"))}},{key:"daysInMonth",value:function(){return e.daysInMonth(this.date.getMonth()+1,this.date.getFullYear())}},{key:"setOffset",value:function(t){t=e.parseOffset(t);var r=this.offset-t;return this.date.setTime(this.date.getTime()+6e4*r),this.offset=t,this}},{key:"utc",value:function(){if(0!==this.offset){var e=this.date.getTime()-6e4*-this.offset;this.date.setTime(e),this.offset=0}return this}},{key:"clone",value:function(){var t=e.from(this.valueOf());return t.offset=this.offset,t}},{key:"add",value:function(e){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond"){case"millisecond":this.date.setMilliseconds(this.date.getMilliseconds()+e);break;case"second":this.date.setSeconds(this.date.getSeconds()+e);break;case"minute":this.date.setMinutes(this.date.getMinutes()+e);break;case"hour":this.date.setHours(this.date.getHours()+e);break;case"date":this.date.setDate(this.date.getDate()+e);break;case"week":this.date.setDate(this.date.getDate()+7*e);break;case"month":this.date.setMonth(this.date.getMonth()+e);break;case"year":this.date.setFullYear(this.date.getFullYear()+e)}return this}},{key:"addYear",value:function(e){return this.add(e,"year")}},{key:"addMonth",value:function(e){return this.add(e,"month")}},{key:"addWeek",value:function(e){return this.add(e,"week")}},{key:"addDate",value:function(e){return this.add(e,"date")}},{key:"addHour",value:function(e){return this.add(e,"hour")}},{key:"addMinute",value:function(e){return this.add(e,"minute")}},{key:"addSecond",value:function(e){return this.add(e,"second")}},{key:"addMillisecond",value:function(e){return this.add(e,"millisecond")}},{key:"nextDate",value:function(){return this.addDate(1)}},{key:"prevDate",value:function(){return this.addDate(-1)}},{key:"nextWeek",value:function(){return this.addWeek(1)}},{key:"prevWeek",value:function(){return this.addWeek(-1)}},{key:"nextMonth",value:function(){return this.addMonth(1)}},{key:"prevMonth",value:function(){return this.addMonth(-1)}},{key:"nextYear",value:function(){return this.addYear(1)}},{key:"prevYear",value:function(){return this.addYear(-1)}},{key:"startOf",value:function(){return this.date.setHours(0,0,0,0),this}},{key:"endOf",value:function(){return this.date.setHours(23,59,59,999),this}},{key:"format",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD HH:mm:ss Z",r=arguments.length>1?arguments[1]:void 0,n=this.date,o=this.tzOffset,a=e.pad,i=n.getFullYear().toString(),u=n.getMonth()+1,c=n.getDate(),l=n.getHours(),s=l>12,f=Math.floor(s?24/l:l),y=n.getMinutes(),v=n.getSeconds(),h=n.getMilliseconds(),d=t.replace(/YYYY/g,i);return(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=d.replace(/YY/g,i.substring(2))).replace(/MMMM/g,n.toLocaleString(r,{month:"long"}))).replace(/MMM/g,n.toLocaleString(r,{month:"short"}))).replace(/MM/g,a(u))).replace(/M/g,u.toString())).replace(/DD/g,a(c))).replace(/D/g,c.toString())).replace(/dddd/g,n.toLocaleString(r,{weekday:"long"}))).replace(/ddd/g,n.toLocaleString(r,{weekday:"short"}))).replace(/HH/g,a(l))).replace(/H/g,l.toString())).replace(/hh/g,a(f))).replace(/h/g,f.toString())).replace(/mm/g,a(y))).replace(/m/g,y.toString())).replace(/SSS/g,a(h,3))).replace(/SS/g,a(h,2))).replace(/ss/g,a(v))).replace(/s/g,h.toString())).replace(/A/g,s?"PM":"AM")).replace(/a/g,s?"pm":"am")).replace(/x/g,this.valueOf().toString())).replace(/Z/g,o)}},{key:"diff",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";t=u(t,e)?t.clone():e.from(t);var n=this.clone().valueOf()-t.valueOf();switch(r){case"millisecond":return n;case"second":return 1e3*n;case"minute":return Math.round(n/6e4);case"hour":return Math.round(n/36e5);case"date":return Math.round(n/864e5);case"week":return Math.round(n/6048e5)}}},{key:"gt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)>0}},{key:"gte",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)>=0}},{key:"lt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)<0}},{key:"lte",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)<=0}},{key:"eq",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return 0===this.diff(e,t)}},{key:"toString",value:function(){return this.iso}},{key:"valueOf",value:function(){return this.date.getTime()}},{key:Symbol.iterator,value:function(){return function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(e){switch(e.label){case 0:return[4,this.date.getFullYear()];case 1:return e.sent(),[4,this.date.getMonth()];case 2:return e.sent(),[4,this.date.getDate()];case 3:return e.sent(),[4,this.date.getHours()];case 4:return e.sent(),[4,this.date.getMinutes()];case 5:return e.sent(),[4,this.date.getSeconds()];case 6:return e.sent(),[4,this.date.getMilliseconds()];case 7:return e.sent(),[2]}}))}}],i=[{key:"parseOffset",value:function(e){if("number"==typeof e)return e;if(e.match(/^[+-]?\d{2}:\d{2}$/)){var t=(i=e.split(":"),u=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(i,u)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(i,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],o=t[1],a=Number(o);return["+","-"].includes(n[0])?(a+=60*Number(n.substring(1)),"-"===n[0]&&(a=-a)):a+=60*Number(n.substring(1)),-a}var i,u;throw new f("Invalid offset ".concat(e,", the offset format must be a number or the string like: +07:00"))}},{key:"from",value:function(t,r){return new e(t,r)}},{key:"now",value:function(t){return e.from("now",t)}},{key:"utc",value:function(){return e.now().utc()}},{key:"yesterday",value:function(t){return e.now(t).prevDate().startOf()}},{key:"tomorrow",value:function(t){return e.now(t).nextDate().startOf()}},{key:"parse",value:function(t){if(u(t,e)?t=t.valueOf():"now"!==t&&void 0!==t||(t=Date.now()),!t)return!1;var r=new Date(t);return!Number.isNaN(r.getTime())&&r}},{key:"daysInMonth",value:function(e,t){for(var r=new Date(t||(new Date).getFullYear(),e-1,27),n=r.getMonth();r.getMonth()===n;)r.setDate(r.getDate()+1);return r.setDate(r.getDate()-1),r.getDate()}},{key:"pad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(Math.abs(e)).padStart(t,"0")}}],o&&a(t.prototype,o),i&&a(t,i),e}();t.DateTime=y},766:(e,t,r)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var u=r(645),c=r(409),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events=[]}var t,r,n;return t=e,r=[{key:"events",get:function(){return this._events}},{key:"on",value:function(t,r,n){return c.Is.callable(r)&&!this._events.find((function(e){return!0===e.once}))&&(this._events.push({name:t,handler:r,once:!1,disabled:!1,priority:c.Is.number(n)?n:e.NORMAL}),u.Util.sort(this._events,{key:"priority",desc:!0})),this}},{key:"once",value:function(t,r){if(Array.isArray(t)){var n=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;this.once(c,r)}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}}else this._events.find((function(e){return!0===e.once}))||this._events.push({name:t,handler:r,once:!0,disabled:!1,priority:e.NORMAL});return this}},{key:"has",value:function(e){return-1!==this._events.findIndex((function(t){return t.name===e}))}},{key:"remove",value:function(e){if(void 0===e)this._events.splice(0,this._events.length);else if(Array.isArray(e)){var t=!0,r=!1,n=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;this.remove(i)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}else{var u=this._events.findIndex((function(t){return t.name===e}));-1!==u&&this._events.splice(u,1)}return this}},{key:"off",value:function(e){var t=void 0===e?[]:Array.isArray(e)?e:[e];return this._events.forEach((function(e){return(!t.length||t.includes(e.name))&&!e.disabled&&(e.disabled=!0)})),this}},{key:"open",value:function(e){var t=void 0===e?[]:Array.isArray(e)?e:[e];return this._events.forEach((function(e){return(!t.length||t.includes(e.name))&&e.disabled&&(e.disabled=!1)})),this}},{key:"getEventHandlers",value:function(e){var t=Array.isArray(e)?e:[e];return this._events.filter((function(e){return t.includes(e.name)&&!e.disabled}))}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=[],a=!0,c=!1,l=void 0;try{for(var s,f=this.getEventHandlers(e)[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var y,v=s.value;o.push((y=u.Util).call.apply(y,[this,v.handler].concat(i(r)))),v.once&&this.remove(v.name)}}catch(e){c=!0,l=e}finally{try{a||null==f.return||f.return()}finally{if(c)throw l}}return o}},{key:"emitAsync",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Promise.all(this.emit.apply(this,[e].concat(i(r))))}},{key:"emitAsyncSequently",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a,c=this;return(a=function(){var t,n,o,a,l,s,f,y,v,h;return function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(d){switch(d.label){case 0:t=[],n=!0,o=!1,a=void 0,d.label=1;case 1:d.trys.push([1,6,7,8]),l=c.getEventHandlers(e)[Symbol.iterator](),d.label=2;case 2:return(n=(s=l.next()).done)?[3,5]:(f=s.value,v=t.push,[4,(y=u.Util).callAsync.apply(y,[c,f.handler].concat(i(r)))]);case 3:v.apply(t,[d.sent()]),d.label=4;case 4:return n=!0,[3,2];case 5:return[3,8];case 6:return h=d.sent(),o=!0,a=h,[3,8];case 7:try{n||null==l.return||l.return()}finally{if(o)throw a}return[7];case 8:return[2,t]}}))},function(){var e=this,t=arguments;return new Promise((function(r,n){var i=a.apply(e,t);function u(e){o(i,r,n,u,c,"next",e)}function c(e){o(i,r,n,u,c,"throw",e)}u(void 0)}))})()}}],n=[{key:"HIGH",get:function(){return 100}},{key:"MEDIUM",get:function(){return 50}},{key:"NORMAL",get:function(){return 25}},{key:"LOW",get:function(){return 0}},{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],r&&a(t.prototype,r),n&&a(t,n),e}();t.EventEmitter=l},481:(e,t,r)=>{function n(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function u(e){n(i,o,a,u,c,"next",e)}function c(e){n(i,o,a,u,c,"throw",e)}u(void 0)}))}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){return i=v()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&f(o,r.prototype),o},i.apply(null,arguments)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function y(e){var t="function"==typeof Map?new Map:void 0;return y=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)},y(e)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){var t=v();return function(){var r,n,o,a,i=l(e);if(t){var u=l(this).constructor;r=Reflect.construct(i,arguments,u)}else r=i.apply(this,arguments);return n=this,!(o=r)||"object"!=((a=o)&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}}function d(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.defineProperty(t,"__esModule",{value:!0}),t.JWT=t.JWTErrorExpired=t.JWTErrorInvalid=t.JWTError=t.Hash=void 0;var p=r(540),b=r(409),g=function(){function e(){a(this,e)}return c(e,null,[{key:"getCrypto",value:function(){return"undefined"!=typeof crypto?crypto:"undefined"!=typeof window?window.crypto||window.msCrypto:void 0}},{key:"randomBytes",value:function(t){var r=e.getCrypto();if(void 0!==r){if(void 0!==r.randomBytes)return r.randomBytes;if(void 0!==r.getRandomValues){var n=new Uint8Array(t);return r.getRandomValues(n),n}}for(var o=[],a=t;a>0;a--)o.push(Math.floor(256*Math.random()));return o}},{key:"uuid",value:function(){var t=e.getCrypto();if("function"==typeof(null==t?void 0:t.randomUUID))return t.randomUUID();for(var r,n=0,o=new Array(256),a=0;a<256;a++)o[a]=(a+256).toString(16).substring(1);(void 0===r||n+16>4096)&&(n=0,r=e.randomBytes(4096));var i=Array.prototype.slice.call(r,n,n+=16);return i[6]=15&i[6]|64,i[8]=63&i[8]|128,o[i[0]]+o[i[1]]+o[i[2]]+o[i[3]]+"-"+o[i[4]]+o[i[5]]+"-"+o[i[6]]+o[i[7]]+"-"+o[i[8]]+o[i[9]]+"-"+o[i[10]]+o[i[11]]+o[i[12]]+o[i[13]]+o[i[14]]+o[i[15]]}},{key:"sha256",value:function(t){return o((function(){var r,n;return d(this,(function(o){switch(o.label){case 0:return"function"!=typeof(null==(n=e.getCrypto())||null===(r=n.subtle)||void 0===r?void 0:r.digest)?[3,2]:[4,n.subtle.digest("SHA-256",(new TextEncoder).encode(t)).then((function(e){for(var t=[],r=new DataView(e),n=0;n<r.byteLength;n+=4)t.push(("00000000"+r.getUint32(n).toString(16)).slice(-8));return t.join("")}))];case 1:return[2,o.sent()];case 2:throw new Error("Crypto not available in your environment")}}))}))()}},{key:"encodeBase64",value:function(e){return btoa(e)}},{key:"decodeBase64",value:function(e){return atob(e)}},{key:"base64UrlEncode",value:function(t){return e.encodeBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},{key:"base64UrlDecode",value:function(t){var r=(t=t.replace(/-/g,"+").replace(/_/g,"/")).length%4;return r&&(t+="=".repeat(4-r)),e.decodeBase64(t)}},{key:"jwt",value:function(){return new O}}]),e}();t.Hash=g;var m=function(e){s(r,e);var t=h(r);function r(){return a(this,r),t.apply(this,arguments)}return r}(y(Error));t.JWTError=m;var w=function(e){s(r,e);var t=h(r);function r(){return a(this,r),t.call(this,O.INVALID_TOKEN)}return r}(m);t.JWTErrorInvalid=w;var k=function(e){s(r,e);var t=h(r);function r(){return a(this,r),t.call(this,O.EXPIRED_TOKEN)}return r}(m);t.JWTErrorExpired=k;var O=function(){function e(){a(this,e),this.validHeader={alg:"HS256",typ:"JWT"}}return c(e,[{key:"sign",value:function(e,t){var r=this;return o((function(){var n,o,a,i,u,c,l;return d(this,(function(s){switch(s.label){case 0:if(n=p.DateTime.from(t.exp),o=p.DateTime.now(),!n.valid)throw new w;if(n.lte(o))throw new m("The expiry time must greater now");if(!b.Is.string(t.secret)||b.Is.empty(t.secret))throw new m("Must provide a strong secret key");return a=g.base64UrlEncode(JSON.stringify(r.validHeader)),i=g.base64UrlEncode(JSON.stringify({data:e,iat:o.iso,exp:n.iso})),u=g.base64UrlEncode(t.secret),l=g.base64UrlEncode,[4,g.sha256("".concat(a,".").concat(i,".").concat(u))];case 1:return c=l.apply(g,[s.sent()]),[2,"".concat(a,".").concat(i,".").concat(c)]}}))}))()}},{key:"verify",value:function(e,t){var r=this;return o((function(){var n,o,a,i,u,c,l;return d(this,(function(s){switch(s.label){case 0:if(!b.Is.string(t.secret)||b.Is.empty(t.secret))throw new m("Must provide a strong secret key");if(n=e.split("."),o=r.decode(e),3!==n.length||!o)throw new w;return i=o.header,u=o.payload,(c=!(b.Is.equals(i,r.validHeader)&&b.Is.object(u)&&b.Is.equals(Object.keys(u),["data","iat","exp"])&&(a=p.DateTime.from(u.exp)).valid))?[3,2]:(l=g.base64UrlEncode,[4,g.sha256("".concat(n[0],".").concat(n[1],".").concat(g.base64UrlEncode(t.secret)))]);case 1:c=l.apply(g,[s.sent()])!==n[2],s.label=2;case 2:if(c)throw new w;if(a.lte("now"))throw new k;return[2,u.data]}}))}))()}},{key:"decode",value:function(e){try{var t=e.split(".");if(t.length>=3)return{header:JSON.parse(g.base64UrlDecode(t[0])),payload:JSON.parse(g.base64UrlDecode(t[1]))}}catch(e){}return null}}]),e}();t.JWT=O,O.INVALID_TOKEN="INVALID_TOKEN",O.EXPIRED_TOKEN="INVALID_IAT",O.EXPIRED="EXPIRED_TOKEN"},877:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(540),t),o(r(766),t),o(r(645),t),o(r(481),t),o(r(409),t),o(r(902),t),o(r(221),t)},409:(e,t,r)=>{function n(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function u(e){n(i,o,a,u,c,"next",e)}function c(e){n(i,o,a,u,c,"throw",e)}u(void 0)}))}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function u(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.Is=void 0;var c=r(540),l=r(769),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"equals",value:function(t,r){if(t===r)return!0;if((i(t,Date)||i(t,c.DateTime))&&(i(r,Date)||i(r,c.DateTime)))return t.valueOf()===r.valueOf();if(null!==t&&null!==r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o;if(t.constructor===Array){if((n=t.length)!==r.length)return!1;for(o=n;0!=o--;)if(!0!==e.equals(t[o],r[o]))return!1;return!0}if(t.constructor===Map){if(t.size!==r.size)return!1;var a=t.entries();for(o=a.next();!0!==o.done;){if(!0!==r.has(o.value[0]))return!1;o=a.next()}for(o=(a=t.entries()).next();!0!==o.done;){if(!0!==e.equals(o.value[1],r.get(o.value[0])))return!1;o=a.next()}return!0}if(t.constructor===Set){if(t.size!==r.size)return!1;var u=t.entries();for(o=u.next();!0!==o.done;){if(!0!==r.has(o.value[0]))return!1;o=u.next()}return!0}if(null!=t.buffer&&t.buffer.constructor===ArrayBuffer){if((n=t.length)!==r.length)return!1;for(o=n;0!=o--;)if(t[o]!==r[o])return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();var l=Object.keys(t).filter((function(e){return void 0!==t[e]}));if((n=l.length)!==Object.keys(r).filter((function(e){return void 0!==r[e]})).length)return!1;for(o=n;0!=o--;){var s=l[o];if(!0!==e.equals(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},{key:"emptyObject",value:function(t,r){return e.each(r,t,(function(t){return e.object(t)&&!Object.keys(t).length}))}},{key:"date",value:function(t,r){return e.each(r,t,(function(e){return i(e,Date)}))}},{key:"datetime",value:function(t,r){return e.each(r,t,(function(e){return i(e,c.DateTime)}))}},{key:"dateString",value:function(t,r){return e.each(r,t,(function(e){return"string"==typeof e&&!!c.DateTime.parse(t)}))}},{key:"primitive",value:function(t,r){return e.each(r,t,(function(e){return null===e||["string","number","bigint","boolean","symbol","undefined"].includes(void 0===e?"undefined":u(e))}))}},{key:"empty",value:function(t,r){return e.each(r,t,(function(t){switch(void 0===t?"undefined":u(t)){case"boolean":return!1===t;case"number":case"bigint":return 0===t;case"string":return!t.trim().length}return i(t,Date)||i(t,c.DateTime)?isNaN(+t):i(t,Map)||i(t,Set)?!t.size:e.object(t)?!Object.keys(t).length:Array.isArray(t)||Buffer.isBuffer(t)?!t.length:!Boolean(t)}))}},{key:"nothing",value:function(t,r){return e.each(r,t,(function(e){return[null,void 0,NaN].includes(e)}))}},{key:"object",value:function(t,r){var n=function(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e};if(!n(t))return!1;if(r){var o,a=null===(o=r.suitable)||void 0===o||o,i=function(t,r){if(n(r)){if(!n(t)||a&&!e.equals(Object.keys(t).sort(),Object.keys(r).sort()))throw new l.IsError;for(var o in r)i(t[o],r[o])}else if(!e.valid(t,{type:r}))throw new l.IsError};try{i(t,null==r?void 0:r.rules)}catch(e){return!1}}return!0}},{key:"flatObject",value:function(t,r){if(!e.object(t))return!1;var n=!0,o=!0;!1===r?n=o=!1:e.object(r)&&(n=!1!==r.root,o=!1!==r.deep);var a=function(t){if(Array.isArray(t)){if(!o)throw new Error;var r=!0,n=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var l=u.value;a(l)}}catch(e){n=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw i}}}else if(e.object(t)){if("[object Object]"!==Object.prototype.toString.call(t))throw new Error;for(var s in t)a(t[s])}else if(e.func(t))throw new Error};try{for(var i in t){if(!n&&Array.isArray(t[i]))throw new Error;a(t[i])}}catch(e){return!1}return!0}},{key:"objectOrArray",value:function(t){return e.object(t)||e.array(t)}},{key:"array",value:function(t,r){if(!Array.isArray(t)||(null==r?void 0:r.notEmpty)&&!t.length)return!1;var n=null==r?void 0:r.rules,o=null==r?void 0:r.suitable;if(n){var a=!0,i=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value,f=e.object(n);if(f&&!e.object(s,{rules:n,suitable:o})||!f&&!e.valid(s,{type:n}))return!1}}catch(e){i=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw u}}}return!0}},{key:"asyncFunc",value:function(t,r){return e.each(r,t,(function(e){return i(e,o((function(){return function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(e){return[2]}))})).constructor)}))}},{key:"func",value:function(t,r){return e.each(r,t,(function(e){return"function"==typeof e}))}},{key:"callable",value:function(t,r){return e.each(r,t,(function(t){return e.func(t)||e.asyncFunc(t)}))}},{key:"number",value:function(t,r){return e.each(r,t,(function(e){return"number"==typeof e}))}},{key:"sNumber",value:function(t,r){return e.each(r,t,(function(e){return"number"==typeof e&&e<0}))}},{key:"uNumber",value:function(t,r){return e.each(r,t,(function(e){return"number"==typeof e&&e>=0}))}},{key:"int",value:function(t,r){return e.each(r,t,(function(e){return"number"==typeof e&&Number.isInteger(e)}))}},{key:"sInt",value:function(t,r){return e.each(r,t,(function(e){return"number"==typeof e&&Number.isInteger(e)&&e<0}))}},{key:"uInt",value:function(t,r){return e.each(r,t,(function(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}))}},{key:"bigInt",value:function(t,r){return e.each(r,t,(function(e){return"bigint"===(void 0===e?"undefined":u(e))}))}},{key:"sBigInt",value:function(t,r){return e.each(r,t,(function(e){return"bigint"===(void 0===e?"undefined":u(e))&&e<0}))}},{key:"uBigInt",value:function(t,r){return e.each(r,t,(function(e){return"bigint"===(void 0===e?"undefined":u(e))&&e>=0}))}},{key:"boolean",value:function(t,r){return e.each(r,t,(function(e){return"boolean"==typeof e}))}},{key:"string",value:function(t,r){return e.each(r,t,(function(e){return"string"==typeof e}))}},{key:"null",value:function(t,r){return e.each(r,t,(function(e){return null===e}))}},{key:"undefined",value:function(t,r){return e.each(r,t,(function(e){return void 0===e}))}},{key:"nan",value:function(t,r){return e.each(r,t,(function(e){return isNaN(e)}))}},{key:"symbol",value:function(t,r){return e.each(r,t,(function(e){return"symbol"===(void 0===e?"undefined":u(e))}))}},{key:"map",value:function(t,r){return e.each(r,t,(function(e){return i(e,Map)}))}},{key:"set",value:function(t,r){return e.each(r,t,(function(e){return i(e,Set)}))}},{key:"regex",value:function(t,r){return e.each(r,t,(function(e){return i(e,RegExp)}))}},{key:"nodeJs",value:function(){return void 0!==r.g&&r.g&&void 0!==r.g.process&&void 0!==r.g.process.versions&&void 0!==r.g.process.versions.node}},{key:"nullOrUndefined",value:function(t,r){return e.each(r,t,(function(e){return null==e}))}},{key:"strongPassword",value:function(t,r,n){return e.each(n,t,(function(e){if("string"!=typeof e)return!1;var t,n,o,a,i,u,c=null!==(t=null==r?void 0:r.minLength)&&void 0!==t?t:8,l=null===(n=null==r?void 0:r.noSpaces)||void 0===n||n,s=null!==(o=null==r?void 0:r.minSpecialChars)&&void 0!==o?o:1,f=null!==(a=null==r?void 0:r.minUpper)&&void 0!==a?a:1,y=null!==(i=null==r?void 0:r.minLower)&&void 0!==i?i:1,v=null!==(u=null==r?void 0:r.minNumber)&&void 0!==u?u:1;return!(e.length<c||l&&e.match(/\s+/)||(e.match(/[._-~`@#$%^&*()+=,]/g)||[]).length<s||(e.match(/[A-Z]/g)||[]).length<f||(e.match(/[a-z]/g)||[]).length<y||(e.match(/[0-9]/g)||[]).length<v)}))}},{key:"promise",value:function(t,r){return e.each(r,t,(function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}))}},{key:"email",value:function(t,r){return e.each(r,t,(function(e){return"string"==typeof e&&/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)}))}},{key:"inArray",value:function(t,r,n){return e.each(n,t,(function(e){return r.includes(e)}))}},{key:"includes",value:function(t,r,n){return e.each(n,t,(function(n){if(e.string(n))return!!e.string(r)&&n.includes(r);if(e.array(n))return n.includes(r);if(e.object(n)&&(e.object(r)||e.string(r))){if(e.string(r))for(var o=r.split("."),a=t,i=0,u=o.length;i<u;i++){var c=o[i];if(!e.object(a)||!a.hasOwnProperty(c))return!1;a=a[c]}else for(var l in r)if(!t.hasOwnProperty(l)||!e.equals(n[l],r[l]))return!1;return!0}}))}},{key:"class",value:function(t,r){return e.each(r,t,(function(t){var r;return e.func(t)&&(null===(r=t.toString())||void 0===r?void 0:r.startsWith("class "))}))}},{key:"each",value:function(e,t,r){if(e){if(!Array.isArray(t))return!1;var n=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0)if(!r(i.value))return!1}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return!0}return r(t)}},{key:"arrayUnique",value:function(t,r){return e.each(r,t,(function(t){if(!Array.isArray(t))return!1;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=function(){var t=i.value;if(-1!==r.findIndex((function(r){return e.equals(r,t)})))return{v:!1};r.push(t)},l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=c();if("object"===u(s))return s.v}}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return!0}))}},{key:"mongoId",value:function(t,r){return e.each(r,t,(function(e){return"string"==typeof e&&/^[0-9a-fA-F]{24}$/.test(e)}))}},{key:"matched",value:function(t,r,n){return e.each(n,t,(function(e){return"string"==typeof e&&r.test(e)}))}},{key:"creditCard",value:function(t,r,n){return e.each(n,t,(function(e){var t=new RegExp("^3[47][0-9]{13}$").test(e),n=new RegExp("^4[0-9]{12}(?:[0-9]{3})?$").test(e),o=new RegExp("^62[0-9]{14}[0-9]*$").test(e),a=new RegExp("^81[0-9]{14}[0-9]*$").test(e),i=new RegExp("^5[1-5][0-9]{14}$").test(e),u=new RegExp("^2[2-7][0-9]{14}$").test(e),c=new RegExp("^6011[0-9]{12}[0-9]*$").test(e),l=new RegExp("^62[24568][0-9]{13}[0-9]*$").test(e),s=new RegExp("^6[45][0-9]{14}[0-9]*$").test(e),f=new RegExp("^3[0689][0-9]{12}[0-9]*$").test(e),y=new RegExp("^35[0-9]{14}[0-9]*$").test(e);if(r)switch(r){case"VISA":return n;case"AMEX":return t;case"MASTERCARD":return i||u;case"DISCOVER":return c||l||s;case"DINERS":return f;case"JCB":return y;case"CHINA_UNION_PAY":return o||a}return t||n||o||a||i||u||c||l||s||f||y}))}},{key:"min",value:function(t,r,n){return e.each(n,t,(function(e){return"number"==typeof e&&e>=r}))}},{key:"max",value:function(t,r,n){return e.each(n,t,(function(e){return"number"==typeof e&&e<=r}))}},{key:"valid",value:function(t,r){var n=r.type,o=["prototype","nodeJs","valid","each"],a=!0===r.each;return e.each(a,t,(function(t){if(o.includes(n)||!e.callable(e[n]))return!1;switch(n){case"object":return e.object(t,r.meta);case"array":return e.array(t,r.meta);case"objectOrArray":var a,i;return!!e.objectOrArray(t)&&(Array.isArray(t)?e.array(t,null===(i=r.meta)||void 0===i?void 0:i.array):e.object(t,null===(a=r.meta)||void 0===a?void 0:a.object));case"equals":var u,c=(null!==(u=r.meta)&&void 0!==u?u:{}).equalsTo;return void 0!==c&&e.equals(t,c);case"flatObject":var l,s=(null!==(l=r.meta)&&void 0!==l?l:{}).allowArray;return e.flatObject(t,s);case"strongPassword":return e.strongPassword(t,r.meta);case"inArray":return e.inArray(t,r.meta);case"includes":return e.includes(t,r.meta);case"creditCard":return e.creditCard(t,r.meta);case"matched":return e.matched(t,r.meta);case"min":return e.min(t,r.meta);case"max":return e.max(t,r.meta);default:return e[n].call(null,t,!1)}}))}}],null&&a(t.prototype,null),n&&a(t,n),e}();t.Is=s},902:(e,t,r)=>{function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,r){return o=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&c(o,r.prototype),o},o.apply(null,arguments)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return o(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},l(e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e){var t=s();return function(){var r,n,o,a,u=i(e);if(t){var c=i(this).constructor;r=Reflect.construct(u,arguments,c)}else r=u.apply(this,arguments);return n=this,!(o=r)||"object"!=((a=o)&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}}Object.defineProperty(t,"__esModule",{value:!0}),t.Registry=t.RegistryConsistentError=t.RegistryDataError=void 0;var y=r(409),v=r(221),h=r(766),d=r(645),p=function(e){u(r,e);var t=f(r);function r(){return n(this,r),t.apply(this,arguments)}return r}(l(Error));t.RegistryDataError=p;var b=function(e){u(r,e);var t=f(r);function r(){return n(this,r),t.apply(this,arguments)}return r}(l(Error));t.RegistryConsistentError=b;var g=function(){function e(t,r){n(this,e),this.consistent=!1,this.eventEmitter=new h.EventEmitter,this.cached={},this.parse(t,r),this.consistent=!0===(null==r?void 0:r.consistent)}var t,r,o;return t=e,o=[{key:"from",value:function(t,r){return new e(t,r)}}],(r=[{key:"extends",value:function(t){var r=this,n=function(e,t){if(y.Is.array(e)){t&&!y.Is.array(r.get(t))&&r.set(t,[]);for(var o=0,a=e.length;o<a;o++)n(e[o],"".concat(t?"".concat(t,"."):"").concat(o))}else if(y.Is.object(e))for(var i in t&&!y.Is.object(r.get(t))&&r.set(t,{}),e)n(e[i],"".concat(t?"".concat(t,"."):"").concat(i));else y.Is.primitive(e)&&t&&r.set(t,e)};return n(e.from(t).valueOf()),this}},{key:"parse",value:function(e,t){if(this.validateConsistent(),void 0===e)e={};else if(y.Is.string(e)&&["{","["].includes(e[0]))try{e=JSON.parse(e)}catch(e){throw new p("Invalid JSON string data")}else y.Is.objectOrArray(e)&&!1!==(null==t?void 0:t.clone)&&(e=d.Util.clone(e));if(this.data=e,!this.isPathArray()&&!this.isPathObject())throw new p("Invalid registry data, the data must be an Object<key, value> or a JSON string or an ARRAY");return!0===(null==t?void 0:t.validate)&&this.validate(),this.cached={},this}},{key:"validate",value:function(e){if(!this.isValidData(e))throw new p("The object element data must be a Record<key, value> or Array<[flat] | Record<key, value>> not from any Class/Function constructor");return this}},{key:"isValidData",value:function(e){if(e=null!=e?e:this.data,y.Is.array(e)){var t=!0,r=!1,n=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;if(y.Is.object(i)&&!y.Is.flatObject(i))return!1}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return!0}return!(y.Is.object(e)&&!y.Is.flatObject(e))}},{key:"isPathNum",value:function(e){return/^\d+$/.test(e)}},{key:"preparePath",value:function(e){return e.match(/\[\d+\]/)&&(e=v.Transform.trim(e.replace(/\[(\d+)\]/g,".$1"),{specialChars:"."})),e}},{key:"get",value:function(e,t,r){var n=this.preparePath(e);if(void 0===this.cached[n])if(-1===n.indexOf("."))this.cached[n]=this.data[n];else{for(var o=n.split("."),a=this.data,i=0,u=o.length;i<u;i++)if(a=a[o[i]],!y.Is.objectOrArray(a)){a=i+1===u?a:t;break}this.cached[n]=a}return void 0===this.cached[n]||this.cached[n]===t?t:r?v.Transform.clean(this.cached[n],r):this.cached[n]}},{key:"validateConsistent",value:function(e){if(this.consistent)throw new b("This registry in consistent mode, make sure you don't get the no exists value and don't set/remove any value".concat(e?", path: ".concat(e):""))}},{key:"set",value:function(e,t,r){this.validateConsistent(e);var n=this.preparePath(e),o=this.get(e);for(var a in!0===r&&this.validate(t),this.cached)a.startsWith(n)&&delete this.cached[a];if(-1===n.indexOf("."))void 0===t?this.isPathNum(n)&&y.Is.array(this.data)?this.data.splice(Number(n),1):delete this.data[n]:this.data[n]=t;else{for(var i=this.data,u=n.split("."),c=u.length-1,l=0;l<c;l++){var s=u[l];if(!y.Is.objectOrArray(i[s])){if(void 0===t)return this.isPathNum(s)&&y.Is.array(i[s])?i.splice(Number(s),1):delete i[s],this;this.isPathNum(s)?i[s]=[]:i[s]={}}i=i[s]}var f=this.isPathNum(u[c]);f&&y.Is.array(i)?i.splice(Number(u[c]),1):delete i[u[c]],void 0!==t&&(f&&!y.Is.array(i)&&(i=[]),i[u[c]]=t)}var v=this.get(e);return y.Is.equals(o,v)||this.eventEmitter.emit(n,v,o),void 0===t&&this.eventEmitter.remove(n),this}},{key:"initPathValue",value:function(e,t,r){return this.has(e)||this.set(e,t,r),t}},{key:"has",value:function(e){return!y.Is.undefined(this.get(e,void 0))}},{key:"is",value:function(e,t){var r=this.get(e);return y.Is.undefined(t)?v.Transform.toBoolean(r):r===t}},{key:"isCached",value:function(e){return this.cached.hasOwnProperty(this.preparePath(e))}},{key:"isPathArray",value:function(e){return y.Is.array(e?this.get(e):this.data)}},{key:"isPathObject",value:function(e){return y.Is.object(e?this.get(e):this.data)}},{key:"isPathFlat",value:function(e){return y.Is.primitive(this.get(e))}},{key:"remove",value:function(e){return this.set(e,void 0)}},{key:"toString",value:function(){return JSON.stringify(this.data)}},{key:"valueOf",value:function(){return this.data}},{key:"clone",value:function(){return e.from(this.data,{clone:!0,consistent:this.consistent})}},{key:"pick",value:function(t){var r=e.from(),n=!0,o=!1,a=void 0;try{for(var i,u=(y.Is.array(t)?t:[t])[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value,l=this.preparePath(c);r.set(l,this.get(l))}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r.consistent=this.consistent,r}},{key:"omit",value:function(e){var t=this.clone();t.consistent=!1;var r=!0,n=!1,o=void 0;try{for(var a,i=(y.Is.array(e)?e:[e])[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var u=a.value;t.remove(this.preparePath(u))}}catch(e){n=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return t.consistent=this.consistent,t}},{key:"watch",value:function(e,t){var r=!0,n=!1,o=void 0;try{for(var a,i=(y.Is.array(e)?e:[e])[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var u=a.value,c=this.preparePath(u);this.eventEmitter.has(c)||this.eventEmitter.on(c,t)}}catch(e){n=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}}},{key:"isEmpty",value:function(){return y.Is.empty(this.valueOf())}}])&&a(t.prototype,r),o&&a(t,o),e}();t.Registry=g},221:(e,t,r)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.Transform=void 0;var i=r(409),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"trim",value:function(t,r){var n,o,a,i=e.toString(t),u=null!==(a=null==r||null===(o=r.specialChars)||void 0===o||null===(n=o.split(""))||void 0===n?void 0:n.join("|"))&&void 0!==a?a:"",c=(null==r?void 0:r.pos)||"both",l=/[\n\t\s]/,s=function(){for(var e=0,t=i.length;e<t;e++)if(!(i[e].match(l)||u.length&&u.includes(i[e])))return i.substring(e);return""};switch(c){case"left":return u?s():i.trimStart();case"right":return u?function(){for(var e=i.length-1;e>=0;e--)if(!(i[e].match(l)||u.length&&u.includes(i[e])))return i.substring(0,e+1);return""}():i.trimEnd();default:return u?function(){for(var e=s().split(""),t=e.length-1;t>=0&&(e[t].match(l)||u.length&&u.includes(e[t]));t--)e.splice(t,1);return e.join("")}():i.trim()}}},{key:"toString",value:function(e){switch(void 0===e?"undefined":a(e)){case"string":return e;case"object":if(Array.isArray(e)||null!==e)return JSON.stringify(e);default:return String(e)}}},{key:"toJsonObject",value:function(e,t){if(i.Is.objectOrArray(e)&&(e=JSON.stringify(e)),i.Is.string(e)&&["{","["].includes(e[0]))try{return JSON.parse(e)}catch(e){}return i.Is.object(t)?t:i.Is.nothing(e)?{}:[e]}},{key:"toBoolean",value:function(e){switch(void 0===e?"undefined":a(e)){case"number":case"bigint":return 0!==e;case"boolean":return e;case"string":if("true"===(e=e.trim().toLowerCase())||"1"===e)return!0;if("false"===e||"0"===e)return!1}return Boolean(e)}},{key:"toNumber",value:function(e){switch(void 0===e?"undefined":a(e)){case"number":case"bigint":return e;case"boolean":return e?1:0;default:var t=Number(e);return isNaN(t)?0:t}}},{key:"toUNumber",value:function(t){return Math.abs(e.toNumber(t))}},{key:"toInt",value:function(t){var r=e.toNumber(t);return r>Number.MAX_SAFE_INTEGER?r=Number.MAX_SAFE_INTEGER:r<-Number.MAX_SAFE_INTEGER&&(r=-Number.MAX_SAFE_INTEGER),Number.parseInt(r.toString())}},{key:"toUInt",value:function(t){return Math.abs(e.toInt(t))}},{key:"toArrayUnique",value:function(e){if(Array.isArray(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var a,u=function(){var e=a.value;t.length&&-1!==t.findIndex((function(t){return i.Is.equals(t,e)}))||t.push(e)},c=e[Symbol.iterator]();!(r=(a=c.next()).done);r=!0)u()}catch(e){n=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}return t}return[e]}},{key:"toPath",value:function(t){return e.toString(t).trim().toLowerCase().replace(/[^a-z0-9-/]/gi,"-").replace(/-+/g,"-").replace(/\/+/g,"/").replace(/^\/+|\/+$/g,"").replace(/^-+|-+$/g,"")}},{key:"toAlnum",value:function(t){return e.toString(t).trim().replace(/[^a-zA-Z0-9]/g,"")}},{key:"toNoneDiacritics",value:function(t){return e.toString(t).normalize("NFD").replace(/[\u0300-\u036f]/g,"")}},{key:"toNonAccentVietnamese",value:function(t){return t=e.toString(t).replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a").replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e").replace(/ì|í|ị|ỉ|ĩ/g,"i").replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o").replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u").replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y").replace(/đ/g,"d").replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A").replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E").replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I").replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O").replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U").replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y").replace(/Đ/g,"D").replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"").replace(/\u02C6|\u0306|\u031B/g,""),e.toNoneDiacritics(t)}},{key:"toASCIIString",value:function(t){return e.clean(t,["toString","toNoneDiacritics"]).replace(/[^a-zA-Z0-9\s]/g,"")}},{key:"toSafeFileName",value:function(t){var r=e.toNonAccentVietnamese(t),n="";if(r.includes(".")){var o=r.split(".");n=o.pop(),r=o.join(".")}return"".concat(e.toASCIIString(e.toPath(r))).concat(n?".".concat(n):"")}},{key:"toDefault",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=[null,void 0,NaN];if(!o.includes(e))return e;for(var a=0,i=r.length;a<i;a++){var u=r[a];if(!o.includes(u))return u}}},{key:"toStripTags",value:function(t,r){r=(((r||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z0-9]*)\b[^>]*>?/gi,o=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,a=e.toString(t);for(a="<"===a.substring(a.length-1)?a.substring(0,a.length-1):a;;){var i=a;if(a=i.replace(o,"").replace(n,(function(e,t){return r.indexOf("<"+t.toLowerCase()+">")>-1?e:""})),i===a)return a}}},{key:"toSafeHtml",value:function(t,r){var n=Array.isArray(null==r?void 0:r.allowedTags)?r.allowedTags:["p","b","i","em","strong","a","ul","ol","li","br","hr","img","table","thead","tfoot","tr","td","th","div","span","h1","h2","h3","h4","h5","h6"],o=Array.isArray(null==r?void 0:r.allowedAttributes)?r.allowedAttributes:["href","src"];return n.length?e.trim(t).replace(/<\/?([^\>]+)>/gi,(function(e,t){var r=t.split(" ")[0];return n.includes(r)?e.replace(/([a-z0-9_-]+)\s*=\s*["']([^"']+)["']/gi,(function(e){var t,r=null===(t=e.split("=")[0])||void 0===t?void 0:t.trim();return o.includes(r)?e.trim():""})).trim().replace(/<\s+/g,"<").replace(/\s+>/g,">"):""})).replace(/\s+/gi," "):e.toStripTags(t)}},{key:"toLowerCase",value:function(t){return e.toString(t).toLowerCase()}},{key:"toUpperCase",value:function(t){return e.toString(t).toUpperCase()}},{key:"clean",value:function(t,r){for(var o=arguments.length,a=new Array(o>2?o-2:0),i=2;i<o;i++)a[i-2]=arguments[i];var u={};Object.getOwnPropertyNames(e).filter((function(t){return"function"==typeof e[t]&&!["clean","cleanIfType"].includes(t)})).forEach((function(t){return u[t.toLowerCase()]=e[t]})),Array.isArray(r)||(r=[r]);var c,l=!0,s=!1,f=void 0;try{for(var y,v=r.map((function(e){return e.toLowerCase()}))[Symbol.iterator]();!(l=(y=v.next()).done);l=!0){var h=y.value,d=u[h];d||0===h.indexOf("to")||(d=u["to".concat(h)]),"function"==typeof d&&(t=d.apply(null,[t].concat(function(e){if(Array.isArray(e))return n(e)}(c=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())))}}catch(e){s=!0,f=e}finally{try{l||null==v.return||v.return()}finally{if(s)throw f}}return t}},{key:"cleanIfType",value:function(t,r,n){var o=!0,a=!1,u=void 0;try{for(var c,l=(i.Is.array(n)?n:[n])[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var s=c.value;if(i.Is.valid(t,{type:s}))return e.clean(t,r)}}catch(e){a=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}return t}}],null&&o(t.prototype,null),r&&o(t,r),e}();t.Transform=u},645:(e,t,r)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){return i=v()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&s(o,r.prototype),o},i.apply(null,arguments)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t="function"==typeof Map?new Map:void 0;return y=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)},y(e)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.UtilRaceError=void 0;var h=r(409),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,e);var t,r,n=(t=o,r=v(),function(){var e,n,o,a,i=c(t);if(r){var u=c(this).constructor;e=Reflect.construct(i,arguments,u)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!=((a=o)&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(){return a(this,o),n.apply(this,arguments)}return o}(y(Error));t.UtilRaceError=d;var p=function(){function e(){a(this,e)}var t,r;return t=e,r=[{key:"clone",value:function(t){if(h.Is.primitive(t))return t;var r=t;if(h.Is.object(r)&&h.Is.func(r.clone))return r.clone();if(l(r,Date))return new Date(r);if(l(r,RegExp))return new RegExp(r.source,r.flags);if(l(r,Set)){var n=new Set;return r.forEach((function(t){return n.add(e.clone(t))})),n}if(l(r,Map)){var o=new Map;return r.forEach((function(t,r){return o.set(r,e.clone(t))})),o}if(h.Is.array(r)){var a=[];return r.forEach((function(t){return a.push(e.clone(t))})),a}if(h.Is.object(r)){var i,u={};return(i=Object).assign.apply(i,[u].concat(f(Object.keys(r).map((function(t){return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,e.clone(r[t]))}))))),u}if("function"==typeof(null==r?void 0:r.constructor)){var c="function"==typeof r.valueOf?r.valueOf():void 0;if(c&&Object(c)!==c)return new r.constructor(c)}return r}},{key:"call",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var a;return h.Is.class(t)?i(t,f(n)):h.Is.callable(t)?(a=t).call.apply(a,[e].concat(f(n))):t}},{key:"callAsync",value:function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var i;return Promise.resolve((i=e).call.apply(i,[t,r].concat(f(o))))}},{key:"sort",value:function(e,t){var r=null==t?void 0:t.key,n=!0===(null==t?void 0:t.desc),o=function(e,t){return n?e>t?-1:e<t?1:0:e<t?-1:e>t?1:0};if(Array.isArray(e))r?e.sort((function(e,t){return h.Is.object(e)&&h.Is.object(t)?o(e[r],t[r]):o(e,t)})):e.sort(o);else if(h.Is.object(e)){var a=Object.keys(e),i={};a.sort((function(e,t){var r=/^-?\d+\.?\d*$/;return r.test(e)&&r.test(t)?o(Number(e),Number(t)):o(e,t)}));var u=!0,c=!1,l=void 0;try{for(var s,f=a[Symbol.iterator]();!(u=(s=f.next()).done);u=!0){var y=s.value;i[y]=e[y]}}catch(e){c=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}for(var v in e)delete e[v];Object.assign(e,i)}return e}},{key:"baseName",value:function(e,t){var r=e,n=r.charAt(r.length-1);return"/"!==n&&"\\"!==n||(r=r.slice(0,-1)),r=r.replace(/^.*[/\\]/g,""),"string"==typeof t&&r.substring(r.length-t.length)===t&&(r=r.substring(0,r.length-t.length)),r}},{key:"dirName",value:function(e){return e.replace(/\\/g,"/").replace(/\/[^/]*\/?$/,"")}},{key:"race",value:function(t,r){return(n=function(){return function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(n){switch(n.label){case 0:return[4,Promise.race([Promise.resolve(e.callAsync(null,t)),new Promise((function(e,t){setTimeout((function(){return t(new d("Race timeout."))}),r)}))])];case 1:return[2,n.sent()]}}))},function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function u(e){o(i,r,a,u,c,"next",e)}function c(e){o(i,r,a,u,c,"throw",e)}u(void 0)}))})();var n}},{key:"numberFormat",value:function(e,t){var r,n,o,a;if(isNaN(e))return"NaN";var i=e.toFixed(null!==(n=null==t?void 0:t.decimals)&&void 0!==n?n:0).replace(".",null!==(o=null==t?void 0:t.decimalPoint)&&void 0!==o?o:".").replace(/\B(?=(\d{3})+(?!\d))/g,null!==(a=null==t?void 0:t.separator)&&void 0!==a?a:",");return(null==t?void 0:t.prefix)&&(i="".concat(t.prefix).concat(i)),(null==t?void 0:t.suffix)&&(i="".concat(i).concat(t.suffix)),(null==t||null===(r=t.pattern)||void 0===r?void 0:r.includes("{value}"))&&(i=t.pattern.replace("{value}",i)),i}},{key:"uFirst",value:function(e){return e.length>1?"".concat(e[0].toUpperCase()).concat(e.substring(1)):e}},{key:"lFirst",value:function(e){return e.length>1?"".concat(e[0].toLowerCase()).concat(e.substring(1)):e}},{key:"toCapitalize",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.split(/\b/).map(e.uFirst);return r?n.filter((function(e){return!!e.trim()&&!/\W/.test(e)})).join(""):n.join("")}},{key:"toCamelCase",value:function(t){return e.lFirst(e.toCapitalize(t,!0))}},{key:"camelToSnackCase",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];t.push(o===o.toUpperCase()?"_".concat(o):o)}return t.join("").toLowerCase()}},{key:"snackToCamelCase",value:function(e){for(var t=[],r=!1,n=0,o=e.length;n<o;n++){var a=e[n];"_"!==a?r?(r=!1,t.push(a.toUpperCase())):t.push(a.toLowerCase()):r=!0}return t[0]&&(t[0]=t[0].toLowerCase()),t.join("")}},{key:"cloneObjectToCamelCase",value:function(t){if(!h.Is.object(t))return t;var r={},n=function(t,r){for(var o in t){var a=e.snackToCamelCase(o);h.Is.objectOrArray(t[o])?(r[a]=h.Is.array(t[o])?[]:{},n(t[o],r[a])):r[a]=t[o]}};return n(e.clone(t),r),r}},{key:"truncate",value:function(e,t){var r=t.pad||"...",n=t.maxLength||50;if(e=e.trim(),!0===t.wordCount){var o=e.split(/\s+/),a=o.length,i=o.slice(0,n);e=i.join(" "),a>i.length&&(e+=r)}else e.length>(e=e.substring(0,n)).length&&(e+=r);return e}},{key:"repeat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e;if((t=parseInt(t.toString()))<=0)return"";for(;--t>0;)r="".concat(r).concat(e);return r}}],null&&u(t.prototype,null),r&&u(t,r),e}();t.Util=p},769:(e,t)=>{function r(e,t,n){return r=i()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&o(a,r.prototype),a},r.apply(null,arguments)}function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||(a=e,-1===Function.toString.call(a).indexOf("[native code]")))return e;var a;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return r(e,arguments,n(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,e)},a(e)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.IsError=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,r,a=(t=u,r=i(),function(){var e,o,a,i,u=n(t);if(r){var c=n(this).constructor;e=Reflect.construct(u,arguments,c)}else e=u.apply(this,arguments);return o=this,!(a=e)||"object"!=((i=a)&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):a});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return u}(a(Error));t.IsError=u}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r(885)})()));