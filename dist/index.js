/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("$ujs",[],t):"object"==typeof exports?exports.$ujs=t():e.$ujs=t()}(this,()=>(()=>{var e={38:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function s(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.ClassRefSchema=void 0;var p=r(409),h=r(645),y=r(439),v=r(988),d=r(59);r(901);var b=function(e){function t(e){var r;return o(this,t),(r=function(e,t,r){return t=u(t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,f()?Reflect.construct(t,r||[],u(e).constructor):t.apply(e,r))}(this,t,[t.collectAllProperties(e).schemaProps])).classRef=e,r}var r,n,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),r=t,b=[{key:"collectAllProperties",value:function(e){for(var t={},r=h.Util.clone(Reflect.getMetadata(v.UJS_CLASS_PROPERTIES,e.prototype)||{}),n=function(e){h.Util.clone(Reflect.getMetadata(v.UJS_SWAGGER_PROPERTIES_ARRAY,e)||[]).forEach(function(r){var n=r.replace(/^:/,"");if(!t[n]){var o=Reflect.getMetadata(v.UJS_SWAGGER_PROPERTIES_MODEL,e,n);o&&(t[n]=h.Util.clone(o))}})},o=e;o;){if((p.Is.object(o)||p.Is.func(o))&&p.Is.object(o.prototype)){n(o.prototype);var i=Reflect.getMetadata(v.UJS_CLASS_PROPERTIES,o.prototype);if(p.Is.object(i))for(var a in i)r[a]||(r[a]=h.Util.clone(i[a]))}o=Object.getPrototypeOf(o)}return{schemaProps:r,swaggerProps:t}}},{key:"Pick",value:function(e,r){var n={},i=[],a=t.collectAllProperties(e),u=a.schemaProps,s=a.swaggerProps,c=function e(){o(this,e)};return Object.entries(u).forEach(function(e){var t=l(e,2),o=t[0],a=t[1];r.includes(o)&&(n[o]=a,s[o]&&(i.push(":".concat(o)),Reflect.defineMetadata(v.UJS_SWAGGER_PROPERTIES_MODEL,s[o],c.prototype,o)))}),Reflect.defineMetadata(v.UJS_CLASS_PROPERTIES,n,c.prototype),Reflect.defineMetadata(v.UJS_SWAGGER_PROPERTIES_ARRAY,i,c.prototype),c}},{key:"Omit",value:function(e,r){var n={},i=[],a=t.collectAllProperties(e),u=a.schemaProps,s=a.swaggerProps,c=function e(){o(this,e)};return Object.entries(u).forEach(function(e){var t=l(e,2),o=t[0],a=t[1];r.includes(o)||(n[o]=a,s[o]&&(i.push(":".concat(o)),Reflect.defineMetadata(v.UJS_SWAGGER_PROPERTIES_MODEL,s[o],c.prototype,o)))}),Reflect.defineMetadata(v.UJS_CLASS_PROPERTIES,n,c.prototype),Reflect.defineMetadata(v.UJS_SWAGGER_PROPERTIES_ARRAY,i,c.prototype),c}},{key:"Partial",value:function(e){var r={},n=[],i=t.collectAllProperties(e),u=i.schemaProps,c=i.swaggerProps,f=function(e){if(e.default(void 0),s(e,d.ObjectSchema)){var t=e.getProperties();t&&Object.entries(t).forEach(function(e){var t=l(e,2)[1];return f(t)})}else if(s(e,y.ArraySchema)){var r=e.getItems();r&&(p.Is.array(r)?r.forEach(function(e){return f(e)}):f(r))}},h=function e(){o(this,e)};return Object.entries(u).forEach(function(e){var t,o,i=l(e,2),u=i[0],s=i[1];f(s),r[u]=s.optional(),c[u]&&(n.push(":".concat(u)),Reflect.defineMetadata(v.UJS_SWAGGER_PROPERTIES_MODEL,(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){a(e,t,r[t])})}return e}({},c[u]),o=null!=(o={required:!1})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}),t),h.prototype,u))}),Reflect.defineMetadata(v.UJS_CLASS_PROPERTIES,r,h.prototype),Reflect.defineMetadata(v.UJS_SWAGGER_PROPERTIES_ARRAY,n,h.prototype),h}}],(n=[{key:"buildSwagger",value:function(){return{type:this.classRef,required:!this.isOptional(),nullable:this.isNullable(),description:this.options.description,example:this.options.example}}},{key:"array",value:function(){return new y.ArraySchema(this)}},{key:"clone",value:function(){return new t(this.classRef).setOptions(h.Util.clone(this.options))}}])&&i(r.prototype,n),b&&i(r,b),t}(d.ObjectSchema);t.ClassRefSchema=b},59:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectSchema=void 0;var l=r(409),f=r(645),p=r(439),h=r(161),y=r(988);r(901);var v=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,r){return t=i(t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,c()?Reflect.construct(t,r||[],i(e).constructor):t.apply(e,r))}(this,t)).properties=e,r.isWhiteList=!1,r}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),r=t,(n=[{key:"getProperties",value:function(){return this.properties}},{key:"getPropertyKeys",value:function(){return this.properties?Object.keys(this.properties):[]}},{key:"whiteList",value:function(e){if(this.isWhiteList=void 0===e||!0===e||"deep"===e,"deep"===e&&this.properties){var r=function(e){if(a(e,t)){e.whiteList();var n=e.getProperties();n&&Object.entries(n).forEach(function(e){var t=s(e,2)[1];return r(t)})}else if(a(e,p.ArraySchema)){var o=e.getItems();o&&(l.Is.array(o)?o.forEach(function(e){return r(e)}):r(o))}};Object.entries(this.properties).forEach(function(e){var t=s(e,2)[1];return r(t)})}return this}},{key:"resetErrors",value:function(){return this.errors={},this}},{key:"checkError",value:function(e,t){var r=e.value;if(l.Is.object(r)){if(this.properties){var n=this.getPropertyKeys();for(var o in r)n.includes(o)||(this.isWhiteList?delete r[o]:this.appendError("".concat(t,".").concat(o),{code:y.schemaErrors.NOT_ALLOW_PROPERTY}));var i=!0,a=!1,u=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value,p=this.properties[f];p.check(r[f])?l.Is.primitive(r[f])&&(r[f]=p.getValue()):this.appendError("".concat(t,".").concat(f),p.getErrors())}}catch(e){a=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw u}}}}else this.appendError(t,{code:y.schemaErrors.NOT_AN_OBJECT})}},{key:"buildSchema",value:function(){var e=[],t={type:this.isNullable()?["null","object"]:"object",required:e,properties:{},description:this.options.description};if(this.properties){for(var r in this.properties)this.properties[r].isOptional||e.push(r);this.properties&&Object.entries(this.properties).map(function(e){var r=s(e,2),n=r[0],o=r[1];return t.properties[n]=o.buildSchema()})}return e.length||delete t.required,t}},{key:"buildSwagger",value:function(){return{type:"object",required:!this.isOptional(),nullable:this.isNullable(),description:this.options.description,example:this.options.example}}},{key:"array",value:function(){return new p.ArraySchema(this)}},{key:"clone",value:function(){var e=new t(this.properties?f.Util.clone(this.properties):void 0).setOptions(this.options);return this.isWhiteList&&e.whiteList(!0),e}}])&&o(r.prototype,n),t}(h.BaseSchema);t.ObjectSchema=v},105:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.EnumSchema=void 0;var u=r(409),s=r(645),c=r(439),l=r(161),f=r(988),p=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,r){return t=o(t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,a()?Reflect.construct(t,r||[],o(e).constructor):t.apply(e,r))}(this,t)).data=e,r}var r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,e),r=t,(l=[{key:"elements",get:function(){return u.Is.array(this.data)?this.data:u.Is.object(this.data)?Object.values(this.data):[]}},{key:"checkError",value:function(e){this.elements.includes(e.value)||this.errors.push({code:f.schemaErrors.NOT_AN_ENUM,meta:{enum:this.elements}})}},{key:"buildSchema",value:function(){var e={type:["string","number","integer","boolean"],enum:this.elements,description:this.options.description};return this.isNullable()&&e.type.push("null"),e}},{key:"buildSwagger",value:function(){return{type:"string",enum:this.elements,required:!this.isOptional(),nullable:this.isNullable(),description:this.options.description,example:this.options.example}}},{key:"array",value:function(){return new c.ArraySchema(this)}},{key:"clone",value:function(){return new t(this.data?s.Util.clone(this.data):void 0).setOptions(s.Util.clone(this.options))}}])&&n(r.prototype,l),t}(l.BaseSchema);t.EnumSchema=p},161:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSchema=void 0;var u=r(409),s=r(645),c=r(988);r(901);var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={},this.errors=null,this.value=void 0}var t,r;return t=e,r=[{key:"isNullable",value:function(){return!0===this.options.nullable||void 0===this.options.nullable&&!0===this.options.optional}},{key:"isOptional",value:function(){return!0===this.options.optional}},{key:"isValidate",value:function(){return void 0===this.options.validate||!0===this.options.validate}},{key:"setOptions",value:function(e){return this.options=e,this}},{key:"getOptions",value:function(){return this.options}},{key:"optional",value:function(e){return this.options.optional=void 0===e||!0===e,this}},{key:"nullable",value:function(e){return this.options.nullable=void 0===e||!0===e,this}},{key:"allow",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.options.allowValues=t,this}},{key:"default",value:function(e){return this.options.defaultValue=e,this}},{key:"reset",value:function(){return this.value=void 0,this.errors=[],this}},{key:"getErrors",value:function(){return this.errors}},{key:"getValue",value:function(){return this.value}},{key:"validate",value:function(e){return this.options.validate=void 0===e||e,this}},{key:"check",value:function(e){this.reset(),this.value=e;var t=this.isOptional(),r=this.isNullable(),n=u.Is.array(this.options.allowValues)&&-1!==this.options.allowValues.findIndex(function(t){return u.Is.equals(t,e)});if(!this.isValidate()||t&&void 0===e||r&&null===e||n)return void 0!==e||void 0===this.options.defaultValue||n||(this.value=s.Util.clone(this.options.defaultValue)),!0;if(void 0===e&&!t)return this.appendError("",{code:c.schemaErrors.REQUIRED}),!1;if(null===e&&!r)return this.appendError("",{code:c.schemaErrors.NOT_ALLOW_NULL}),!1;var o={value:e};this.checkError(o,"");var i=u.Is.empty(this.errors);return i&&u.Is.primitive(e)&&!u.Is.equals(e,o.value)&&(this.value=o.value),i}},{key:"appendError",value:function(e,t){var r=this;u.Is.object(this.errors)||(this.errors={});var n=function(e){return u.Is.array(e)&&u.Is.object(e[0])&&u.Is.string(e[0].code)},o=function(e,t){var n;e=e.replace(/\$|^\.|\.$/g,"").replace(/\.+/g,".").replace(/\.\[/g,"["),u.Is.array(r.errors[e])||(r.errors[e]=[]),(n=r.errors[e]).push.apply(n,a(t))},i=function(e,t){if(n(t))o(e,t);else if(u.Is.array(t))t.forEach(function(t,r){i("".concat(e,"[").concat(r,"]"),t)});else if(u.Is.object(t))if(u.Is.string(t.code))o(e,[t]);else for(var r in t){var a=t[r],s="".concat(e,".").concat(r);n(a)?o(s,a):i(s,a)}};return i(e,t),this}},{key:"desc",value:function(e){return this.options.description=e,this}},{key:"eg",value:function(e){return this.options.example=e,this}},{key:"decorate",value:function(){var e=this;return function(t,r){var n=Reflect.getMetadata(c.UJS_CLASS_PROPERTIES,t)||{};Reflect.defineMetadata(c.UJS_CLASS_PROPERTIES,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){i(e,t,r[t])})}return e}({},n),i({},r,e)),t);var o=Reflect.getMetadata(c.UJS_SWAGGER_PROPERTIES_ARRAY,t)||[],u=":".concat(r);o.includes(u)||Reflect.defineMetadata(c.UJS_SWAGGER_PROPERTIES_ARRAY,a(o).concat([u]),t),Reflect.defineMetadata(c.UJS_SWAGGER_PROPERTIES_MODEL,e.buildSwagger(),t,r)}}}],r&&o(t.prototype,r),e}();t.BaseSchema=l},221:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.Transform=void 0;var i=r(409),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"trim",value:function(t,r){var n,o,i,a=e.toString(t),u=null!==(i=null==r||null===(o=r.specialChars)||void 0===o||null===(n=o.split(""))||void 0===n?void 0:n.join("|"))&&void 0!==i?i:"",s=(null==r?void 0:r.pos)||"both",c=/[\n\t\s]/,l=function(){for(var e=0,t=a.length;e<t;e++)if(!(a[e].match(c)||u.length&&u.includes(a[e])))return a.substring(e);return""};switch(s){case"left":return u?l():a.trimStart();case"right":return u?function(){for(var e=a.length-1;e>=0;e--)if(!(a[e].match(c)||u.length&&u.includes(a[e])))return a.substring(0,e+1);return""}():a.trimEnd();default:return u?function(){for(var e=l().split(""),t=e.length-1;t>=0&&(e[t].match(c)||u.length&&u.includes(e[t]));t--)e.splice(t,1);return e.join("")}():a.trim()}}},{key:"toString",value:function(e){switch(void 0===e?"undefined":o(e)){case"string":return e;case"object":if(Array.isArray(e)||null!==e)return JSON.stringify(e);default:return String(e)}}},{key:"toJsonObject",value:function(e,t){if((i.Is.object(e)||i.Is.array(e))&&(e=JSON.stringify(e)),i.Is.string(e)&&["{","["].includes(e[0]))try{return JSON.parse(e)}catch(e){}return i.Is.object(t)?t:null==e?{}:[e]}},{key:"toBoolean",value:function(e){switch(void 0===e?"undefined":o(e)){case"number":case"bigint":return 0!==e;case"boolean":return e;case"string":if("true"===(e=e.trim().toLowerCase())||"1"===e)return!0;if("false"===e||"0"===e)return!1}return Boolean(e)}},{key:"toNumber",value:function(e){switch(void 0===e?"undefined":o(e)){case"number":case"bigint":return e;case"boolean":return e?1:0;default:var t=Number(e);return isNaN(t)?0:t}}},{key:"toArrayUnique",value:function(e){if(Array.isArray(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var a,u=function(){var e=a.value;t.length&&-1!==t.findIndex(function(t){return i.Is.equals(t,e)})||t.push(e)},s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)u()}catch(e){n=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}return t}return[e]}},{key:"toPath",value:function(t){return e.toString(t).split(/\/+/g).map(function(t){return e.toSlug(t)}).filter(function(e){return!!e.trim()}).join("/")}},{key:"toSlug",value:function(t){return e.toNonAccent(t).trim().toLowerCase().replace(/[^a-z0-9-/]/gi,"-").replace(/-+/g,"-").replace(/\/+/g,"/").replace(/^\/+|\/+$/g,"").replace(/^-+|-+$/g,"")}},{key:"toAlnum",value:function(t){return e.toString(t).trim().replace(/[^a-zA-Z0-9]/g,"")}},{key:"toNoneDiacritics",value:function(t){return e.toString(t).normalize("NFD").replace(/[\u0300-\u036f]/g,"")}},{key:"toNonAccent",value:function(t){return t=e.toString(t).replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a").replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e").replace(/ì|í|ị|ỉ|ĩ/g,"i").replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o").replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u").replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y").replace(/đ/g,"d").replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A").replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E").replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I").replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O").replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U").replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y").replace(/Đ/g,"D").replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"").replace(/\u02C6|\u0306|\u031B/g,""),e.toNoneDiacritics(t)}},{key:"toASCIIString",value:function(t){return e.toNoneDiacritics(e.toString(t)).replace(/[^a-zA-Z0-9\s]/g,"")}},{key:"toSafeFileName",value:function(t){var r=e.toNonAccent(t),n="";if(r.includes(".")){var o=r.split(".");n=o.pop(),r=o.join(".")}return"".concat(e.toASCIIString(e.toPath(r))).concat(n?".".concat(n):"")}},{key:"toDefault",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=[null,void 0,NaN];if(!o.includes(e))return e;for(var i=0,a=r.length;i<a;i++){var u=r[i];if(!o.includes(u))return u}}},{key:"toStripTags",value:function(t,r){r=(((r||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z0-9]*)\b[^>]*>?/gi,o=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,i=e.toString(t);for(i="<"===i.substring(i.length-1)?i.substring(0,i.length-1):i;;){var a=i;if(i=a.replace(o,"").replace(n,function(e,t){return r.indexOf("<"+t.toLowerCase()+">")>-1?e:""}),a===i)return i}}},{key:"toSafeHtml",value:function(t,r){var n=Array.isArray(null==r?void 0:r.allowedTags)?r.allowedTags:["p","b","i","em","strong","a","ul","ol","li","br","hr","img","table","thead","tfoot","tr","td","th","div","span","h1","h2","h3","h4","h5","h6"],o=Array.isArray(null==r?void 0:r.allowedAttributes)?r.allowedAttributes:["href","src"];return n.length?e.trim(t).replace(/<\/?([^\>]+)>/gi,function(e,t){var r=t.split(" ")[0];return n.includes(r)?e.replace(/([a-z0-9_-]+)\s*=\s*["']([^"']+)["']/gi,function(e){var t,r=null===(t=e.split("=")[0])||void 0===t?void 0:t.trim();return o.includes(r)?e.trim():""}).trim().replace(/<\s+/g,"<").replace(/\s+>/g,">"):""}).replace(/\s+/gi," "):e.toStripTags(t)}},{key:"clean",value:function(t,r){Array.isArray(r)||(r=[r]);var n=!0,o=!1,i=void 0;try{for(var a,u=r[Symbol.iterator]();!(n=(a=u.next()).done);n=!0)t=e[a.value].call(null,t)}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return t}}],null&&n(t.prototype,null),r&&n(t,r),e}();t.Transform=a},409:(e,t,r)=>{"use strict";function n(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function a(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.Is=void 0;var u=r(540),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,s;return t=e,s=[{key:"equals",value:function(t,r){if(t===r)return!0;if((i(t,Date)||i(t,u.DateTime))&&(i(r,Date)||i(r,u.DateTime)))return t.valueOf()===r.valueOf();if(null!==t&&null!==r&&"object"===(void 0===t?"undefined":a(t))&&"object"===(void 0===r?"undefined":a(r))){if(t.constructor!==r.constructor)return!1;var n,o;if(t.constructor===Array){if((n=t.length)!==r.length)return!1;for(o=n;0!==o--;)if(!0!==e.equals(t[o],r[o]))return!1;return!0}if(t.constructor===Map){if(t.size!==r.size)return!1;var s=t.entries();for(o=s.next();!0!==o.done;){if(!0!==r.has(o.value[0]))return!1;o=s.next()}for(o=(s=t.entries()).next();!0!==o.done;){if(!0!==e.equals(o.value[1],r.get(o.value[0])))return!1;o=s.next()}return!0}if(t.constructor===Set){if(t.size!==r.size)return!1;var c=t.entries();for(o=c.next();!0!==o.done;){if(!0!==r.has(o.value[0]))return!1;o=c.next()}return!0}if(null!=t.buffer&&t.buffer.constructor===ArrayBuffer){if((n=t.length)!==r.length)return!1;for(o=n;0!==o--;)if(t[o]!==r[o])return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();var l=Object.keys(t).filter(function(e){return void 0!==t[e]});if((n=l.length)!==Object.keys(r).filter(function(e){return void 0!==r[e]}).length)return!1;for(o=n;0!==o--;){var f=l[o];if(!0!==e.equals(t[f],r[f]))return!1}return!0}return t!=t&&r!=r}},{key:"primitive",value:function(e){return null===e||["string","number","bigint","boolean","symbol","undefined"].includes(void 0===e?"undefined":a(e))}},{key:"empty",value:function(e){switch(void 0===e?"undefined":a(e)){case"boolean":return!1===e;case"number":case"bigint":return 0===e||!e;case"string":return!e.trim().length}return i(e,Date)||i(e,u.DateTime)?isNaN(+e):i(e,Map)||i(e,Set)?!e.size:null!==e&&"object"===(void 0===e?"undefined":a(e))?!Object.keys(e).length:Array.isArray(e)||Buffer.isBuffer(e)?!e.length:!Boolean(e)}},{key:"object",value:function(e){return null!==e&&"object"===(void 0===e?"undefined":a(e))&&!Array.isArray(e)}},{key:"json",value:function(t){if(!e.object(t)&&!e.array(t))return!1;var r=function(t){if(e.array(t)){var n=!0,o=!1,i=void 0;try{for(var u,s=t[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var c=u.value;r(c)}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}else if(e.object(t)){if("[object Object]"!==Object.prototype.toString.call(t))throw new Error;for(var l in t)r(t[l])}else if(null!==t&&!["string","boolean","undefined","number"].includes(void 0===t?"undefined":a(t)))throw new Error};try{return r(t),!0}catch(e){return!1}}},{key:"array",value:function(e){return Array.isArray(e)}},{key:"arrayUnique",value:function(t){if(!Array.isArray(t))return!1;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;if(e.elementOf(s,r))return!1;r.push(s)}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return!0}},{key:"asyncFunc",value:function(e){return i(e,function(){return(e=function(){return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}(this,function(e){return[2]})},function(){var t=this,r=arguments;return new Promise(function(o,i){var a=e.apply(t,r);function u(e){n(a,o,i,u,s,"next",e)}function s(e){n(a,o,i,u,s,"throw",e)}u(void 0)})})();var e}.constructor)}},{key:"func",value:function(e){return"function"==typeof e}},{key:"callable",value:function(t){return e.func(t)||e.asyncFunc(t)}},{key:"number",value:function(e){return"number"==typeof e&&!isNaN(e)}},{key:"unsignedNumber",value:function(t){return e.number(t)&&t>=0}},{key:"integer",value:function(t){return e.number(t)&&Number.isInteger(t)}},{key:"unsignedInteger",value:function(t){return e.integer(t)&&t>=0}},{key:"boolean",value:function(e){return"boolean"==typeof e}},{key:"stringFormat",value:function(t,r){if("string"!=typeof t)return!1;try{switch(r){case"email":return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t);case"dateTime":return!!u.DateTime.parse(t);case"date":return/^\d{4}-\d{2}-\d{2}$/.test(t)&&!!u.DateTime.parse(t);case"time":return/^\d{2}:\d{2}:\d{2}(\.\d{1,3})?$/.test(t)&&!!u.DateTime.parse("2024-08-05T".concat(t));case"creditCard":return e.creditCard(t);case"ipv4":return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t);case"ipv6":return/^([0-9a-f]{1,4}:){6}|(:[0-9a-f]{1,4}){7}$/.test(t);case"mongoId":return/^[0-9a-fA-F]{24}$/.test(t);case"uri":return Boolean(new URL(t));case"image":return Boolean(new URL(t))&&/\.(jpe?g|png|gif|svg|ico|bmp|webp|tiff)(\?.*)?$/i.test(t);case"base64":return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t);case"md5":return/^[a-f0-9]{32}$/.test(t);case"sha1":return/^[a-f0-9]{40}$/.test(t);case"sha256":return/^[a-fA-F0-9]{64}$/.test(t);case"uuid":return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(t);case"jwt":return/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(t);case"number":return/^-?[0-9]+(\.[0-9]+)?$/.test(t);case"unsignedNumber":return/^[0-9]+(\.[0-9]+)?$/.test(t);case"integer":return/^-?[0-9]+(\.[0]+)?$/.test(t);case"unsignedInteger":return/^[0-9]+(\.[0]+)?$/.test(t);case"boolean":return/true|false/i.test(t);case"trim":return!/^\s+|\s+$/.test(t);case"json":return["{","["].includes(t[0])&&"object"===a(JSON.parse(t));case"alphanum":return/^[a-zA-Z0-9]+$/.test(t);case"lowercase":return!/[A-Z]/.test(t);case"uppercase":return!/[a-z]/.test(t);case"binary":return/^[01]+$/.test(t);case"slug":return/^[a-z0-9_\-]+$/i.test(t);case"path":return/^[a-z0-9_\-/]+$/i.test(t)&&!/^\/|\/$|\/\/+/.test(t);default:return!!i(r,RegExp)&&r.test(t)}}catch(e){return!1}}},{key:"string",value:function(e){return"string"==typeof e}},{key:"nodeJs",value:function(){return void 0!==r.g&&r.g&&void 0!==r.g.process&&void 0!==r.g.process.versions&&void 0!==r.g.process.versions.node}},{key:"strongPassword",value:function(e,t){var r,n,o,i,a,u=null!==(r=null==t?void 0:t.minLength)&&void 0!==r?r:8,s=null!==(n=null==t?void 0:t.minSpecialChars)&&void 0!==n?n:1,c=null!==(o=null==t?void 0:t.minUpper)&&void 0!==o?o:1,l=null!==(i=null==t?void 0:t.minLower)&&void 0!==i?i:1,f=null!==(a=null==t?void 0:t.minNumber)&&void 0!==a?a:1;return!("string"!=typeof e||e.length<u||(e.match(/[._-~`@#$%^&*()+=,]/g)||[]).length<s||(e.match(/[A-Z]/g)||[]).length<c||(e.match(/[a-z]/g)||[]).length<l||(e.match(/[0-9]/g)||[]).length<f)}},{key:"elementOf",value:function(t,r){return-1!==r.findIndex(function(r){return e.equals(t,r)})}},{key:"includes",value:function(t,r){if(e.string(t))return!!e.string(r)&&t.includes(r);if(e.array(t))return e.elementOf(r,t);if(e.object(t)&&(e.object(r)||e.string(r))){if(e.string(r))for(var n=r.split("."),o=t,i=0,a=n.length;i<a;i++){var u=n[i];if(!e.object(o)||!o.hasOwnProperty(u))return!1;o=o[u]}else for(var s in r)if(!t.hasOwnProperty(s)||!e.equals(t[s],r[s]))return!1;return!0}return e.equals(t,r)}},{key:"class",value:function(t){var r;return e.func(t)&&(null===(r=t.toString())||void 0===r?void 0:r.startsWith("class "))}},{key:"creditCard",value:function(e,t){var r=new RegExp("^3[47][0-9]{13}$").test(e),n=new RegExp("^4[0-9]{12}(?:[0-9]{3})?$").test(e),o=new RegExp("^62[0-9]{14}[0-9]*$").test(e),i=new RegExp("^81[0-9]{14}[0-9]*$").test(e),a=new RegExp("^5[1-5][0-9]{14}$").test(e),u=new RegExp("^2[2-7][0-9]{14}$").test(e),s=new RegExp("^6011[0-9]{12}[0-9]*$").test(e),c=new RegExp("^62[24568][0-9]{13}[0-9]*$").test(e),l=new RegExp("^6[45][0-9]{14}[0-9]*$").test(e),f=new RegExp("^3[0689][0-9]{12}[0-9]*$").test(e),p=new RegExp("^35[0-9]{14}[0-9]*$").test(e);if(t)switch(t){case"VISA":return n;case"AMEX":return r;case"MASTERCARD":return a||u;case"DISCOVER":return s||c||l;case"DINERS":return f;case"JCB":return p;case"CHINA_UNION_PAY":return o||i}return r||n||o||i||a||u||s||c||l||f||p}}],null&&o(t.prototype,null),s&&o(t,s),e}();t.Is=s},439:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function i(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.ArraySchema=void 0;var s=r(409),c=r(645),l=r(161),f=r(988),p=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,r){return t=o(t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,u()?Reflect.construct(t,r||[],o(e).constructor):t.apply(e,r))}(this,t)).itemsProps=e,r.options={},r}var r,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,e),r=t,(p=[{key:"getItems",value:function(){return this.itemsProps}},{key:"minLength",value:function(e){return this.options.minLength=e,this}},{key:"maxLength",value:function(e){return this.options.maxLength=e,this}},{key:"unique",value:function(e){return this.options.unique=void 0===e||!0===e,this}},{key:"checkError",value:function(e,t){var r=e.value;if(s.Is.array(r)){if(this.options.unique&&!s.Is.arrayUnique(r)&&this.appendError(t,{code:f.schemaErrors.NOT_AN_UNIQUE_ARRAY}),s.Is.number(this.options.minLength)&&r.length<this.options.minLength&&this.appendError(t,{code:f.schemaErrors.ARRAY_MIN_LENGTH,meta:{minLength:this.options.minLength}}),s.Is.number(this.options.maxLength)&&r.length>this.options.maxLength&&this.appendError(t,{code:f.schemaErrors.ARRAY_MAX_LENGTH,meta:{maxLength:this.options.maxLength}}),this.itemsProps)if(s.Is.array(this.itemsProps))if(this.itemsProps.length!=this.itemsProps.length)this.appendError(t,f.schemaErrors.NOT_SUITABLE_ARRAY);else for(var n=0,o=this.itemsProps.length;n<o;n++)this.itemsProps[n].check(r[n])?s.Is.primitive(r[n])&&(r[n]=this.itemsProps[n].getValue()):this.appendError("".concat(t,"[").concat(n,"]"),this.itemsProps[n].getErrors());else for(var i=0,a=r.length;i<a;i++){var u=r[i];this.itemsProps.check(u)?s.Is.primitive(r[i])&&(r[i]=this.itemsProps.getValue()):this.appendError("".concat(t,"[").concat(i,"]"),this.itemsProps.getErrors())}}else this.appendError(t,{code:f.schemaErrors.NOT_AN_ARRAY})}},{key:"buildSchema",value:function(){var e=this.itemsProps,t={type:this.isNullable()?["null","array"]:"array",prefixItems:[],items:{},description:this.options,example:this.options.example};if(e)if(s.Is.array(e))for(var r=0,n=e.length;r<n;r++)t.prefixItems[r]=e[r].buildSchema();else t.items=e.buildSchema();return s.Is.empty(t.prefixItems)&&delete t.prefixItems,s.Is.empty(t.items)&&delete t.items,t}},{key:"buildSwagger",value:function(){var e={type:"array",required:!this.isOptional(),nullable:this.isNullable(),description:this.options.description,example:this.options.example};return s.Is.array(this.itemsProps)&&i(this.itemsProps[0],l.BaseSchema)&&Object.assign(e,{type:this.itemsProps[0].buildSwagger().type,isArray:!0}),i(this.itemsProps,l.BaseSchema)&&Object.assign(e,{type:this.itemsProps.buildSwagger().type,isArray:!0}),e}},{key:"clone",value:function(){return new t(c.Util.clone(this.itemsProps)).setOptions(c.Util.clone(this.options))}}])&&n(r.prototype,p),t}(l.BaseSchema);t.ArraySchema=p},481:(e,t,r)=>{"use strict";function n(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var a=e.apply(t,r);function u(e){n(a,o,i,u,s,"next",e)}function s(e){n(a,o,i,u,s,"throw",e)}u(void 0)})}}function i(e,t,r){return t=l(t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,y()?Reflect.construct(t,r||[],l(e).constructor):t.apply(e,r))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,r){return u=y()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&p(o,r.prototype),o},u.apply(null,arguments)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},h(e)}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}function v(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}Object.defineProperty(t,"__esModule",{value:!0}),t.JWT=t.JWTErrorExpired=t.JWTErrorInvalid=t.JWTError=t.Hash=void 0;var d=r(540),b=r(409),m=function(){function e(){a(this,e)}return c(e,null,[{key:"getCrypto",value:function(){return"undefined"!=typeof crypto?crypto:"undefined"!=typeof window?window.crypto||window.msCrypto:void 0}},{key:"randomBytes",value:function(t){var r=e.getCrypto();if(void 0!==r){if(void 0!==r.randomBytes)return r.randomBytes;if(void 0!==r.getRandomValues){var n=new Uint8Array(t);return r.getRandomValues(n),n}}for(var o=[],i=t;i>0;i--)o.push(Math.floor(256*Math.random()));return o}},{key:"uuid",value:function(){var t=e.getCrypto();if("function"==typeof(null==t?void 0:t.randomUUID))return t.randomUUID();for(var r,n=0,o=new Array(256),i=0;i<256;i++)o[i]=(i+256).toString(16).substring(1);(void 0===r||n+16>4096)&&(n=0,r=e.randomBytes(4096));var a=Array.prototype.slice.call(r,n,n+=16);return a[6]=15&a[6]|64,a[8]=63&a[8]|128,o[a[0]]+o[a[1]]+o[a[2]]+o[a[3]]+"-"+o[a[4]]+o[a[5]]+"-"+o[a[6]]+o[a[7]]+"-"+o[a[8]]+o[a[9]]+"-"+o[a[10]]+o[a[11]]+o[a[12]]+o[a[13]]+o[a[14]]+o[a[15]]}},{key:"sha256",value:function(t){return o(function(){var r,n;return v(this,function(o){switch(o.label){case 0:return"function"!=typeof(null==(n=e.getCrypto())||null===(r=n.subtle)||void 0===r?void 0:r.digest)?[3,2]:[4,n.subtle.digest("SHA-256",(new TextEncoder).encode(t)).then(function(e){for(var t=[],r=new DataView(e),n=0;n<r.byteLength;n+=4)t.push(("00000000"+r.getUint32(n).toString(16)).slice(-8));return t.join("")})];case 1:return[2,o.sent()];case 2:throw new Error("Crypto not available in your environment")}})})()}},{key:"encodeBase64",value:function(e){return btoa(e)}},{key:"decodeBase64",value:function(e){return atob(e)}},{key:"base64UrlEncode",value:function(t){return e.encodeBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},{key:"base64UrlDecode",value:function(t){var r=(t=t.replace(/-/g,"+").replace(/_/g,"/")).length%4;return r&&(t+="=".repeat(4-r)),e.decodeBase64(t)}},{key:"jwt",value:function(){return new _}}]),e}();t.Hash=m;var g=function(e){function t(){return a(this,t),i(this,t,arguments)}return f(t,e),t}(h(Error));t.JWTError=g;var w=function(e){function t(){return a(this,t),i(this,t,[_.INVALID_TOKEN])}return f(t,e),t}(g);t.JWTErrorInvalid=w;var O=function(e){function t(){return a(this,t),i(this,t,[_.EXPIRED_TOKEN])}return f(t,e),t}(g);t.JWTErrorExpired=O;var _=function(){function e(){a(this,e),this.validHeader={alg:"HS256",typ:"JWT"}}return c(e,[{key:"sign",value:function(e,t){return o(function(){var r,n,o,i,a,u,s;return v(this,function(c){switch(c.label){case 0:if(r=d.DateTime.from(t.exp),n=d.DateTime.now(),!r.valid)throw new w;if(r.lte(n))throw new g("The expiry time must greater now");if(!b.Is.string(t.secret)||b.Is.empty(t.secret))throw new g("Must provide a strong secret key");return o=m.base64UrlEncode(JSON.stringify(this.validHeader)),i=m.base64UrlEncode(JSON.stringify({data:e,iat:n.iso,exp:r.iso})),a=m.base64UrlEncode(t.secret),s=m.base64UrlEncode,[4,m.sha256("".concat(o,".").concat(i,".").concat(a))];case 1:return u=s.apply(m,[c.sent()]),[2,"".concat(o,".").concat(i,".").concat(u)]}})}).call(this)}},{key:"verify",value:function(e,t){return o(function(){var r,n,o,i,a,u,s;return v(this,function(c){switch(c.label){case 0:if(!b.Is.string(t.secret)||b.Is.empty(t.secret))throw new g("Must provide a strong secret key");if(r=e.split("."),n=this.decode(e),3!==r.length||!n)throw new w;return i=n.header,a=n.payload,(u=!(b.Is.equals(i,this.validHeader)&&b.Is.object(a)&&b.Is.equals(Object.keys(a),["data","iat","exp"])&&(o=d.DateTime.from(a.exp)).valid))?[3,2]:(s=m.base64UrlEncode,[4,m.sha256("".concat(r[0],".").concat(r[1],".").concat(m.base64UrlEncode(t.secret)))]);case 1:u=s.apply(m,[c.sent()])!==r[2],c.label=2;case 2:if(u)throw new w;if(o.lte("now"))throw new O;return[2,a.data]}})}).call(this)}},{key:"decode",value:function(e){try{var t=e.split(".");if(t.length>=3)return{header:JSON.parse(m.base64UrlDecode(t[0])),payload:JSON.parse(m.base64UrlDecode(t[1]))}}catch(e){}return null}}]),e}();t.JWT=_,_.INVALID_TOKEN="INVALID_TOKEN",_.EXPIRED_TOKEN="INVALID_IAT",_.EXPIRED="EXPIRED_TOKEN"},540:(e,t)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,r){return o=l()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&s(o,r.prototype),o},o.apply(null,arguments)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function u(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return o(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)},c(e)}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.DateTime=t.DateTimeError=void 0;var f=function(e){function t(){return n(this,t),e=this,o=arguments,r=a(r=t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,l()?Reflect.construct(r,o||[],a(e).constructor):r.apply(e,o));var e,r,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),t}(c(Error));t.DateTimeError=f;var p=function(){function e(t,r){n(this,e);var o=e.parse(t);this.isValid=!!o,o?(this.date=o,this.offset=this.date.getTimezoneOffset(),void 0!==r&&this.setOffset(r)):this.date=new Date("")}var t,o,a;return t=e,o=[{key:"valid",get:function(){return this.isValid}},{key:"iso",get:function(){return this.date.toISOString()}},{key:"native",get:function(){return this.date}},{key:"tzOffset",get:function(){var e=Math.floor(this.offset/60),t=Math.abs(this.offset)%60;return"".concat(e<=0?"+":"-").concat(String(Math.abs(e)).padStart(2,"0"),":").concat(String(Math.abs(t)).padStart(2,"0"))}},{key:"daysInMonth",value:function(){return e.daysInMonth(this.date.getMonth()+1,this.date.getFullYear())}},{key:"setOffset",value:function(t){t=e.parseOffset(t);var r=this.offset-t;return this.date.setTime(this.date.getTime()+6e4*r),this.offset=t,this}},{key:"utc",value:function(){if(0!==this.offset){var e=this.date.getTime()-6e4*-this.offset;this.date.setTime(e),this.offset=0}return this}},{key:"clone",value:function(){var t=e.from(this.valueOf());return t.offset=this.offset,t}},{key:"add",value:function(e){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond"){case"millisecond":this.date.setMilliseconds(this.date.getMilliseconds()+e);break;case"second":this.date.setSeconds(this.date.getSeconds()+e);break;case"minute":this.date.setMinutes(this.date.getMinutes()+e);break;case"hour":this.date.setHours(this.date.getHours()+e);break;case"date":this.date.setDate(this.date.getDate()+e);break;case"week":this.date.setDate(this.date.getDate()+7*e);break;case"month":this.date.setMonth(this.date.getMonth()+e);break;case"year":this.date.setFullYear(this.date.getFullYear()+e)}return this}},{key:"addYear",value:function(e){return this.add(e,"year")}},{key:"addMonth",value:function(e){return this.add(e,"month")}},{key:"addWeek",value:function(e){return this.add(e,"week")}},{key:"addDate",value:function(e){return this.add(e,"date")}},{key:"addHour",value:function(e){return this.add(e,"hour")}},{key:"addMinute",value:function(e){return this.add(e,"minute")}},{key:"addSecond",value:function(e){return this.add(e,"second")}},{key:"addMillisecond",value:function(e){return this.add(e,"millisecond")}},{key:"nextDate",value:function(){return this.addDate(1)}},{key:"prevDate",value:function(){return this.addDate(-1)}},{key:"nextWeek",value:function(){return this.addWeek(1)}},{key:"prevWeek",value:function(){return this.addWeek(-1)}},{key:"nextMonth",value:function(){return this.addMonth(1)}},{key:"prevMonth",value:function(){return this.addMonth(-1)}},{key:"nextYear",value:function(){return this.addYear(1)}},{key:"prevYear",value:function(){return this.addYear(-1)}},{key:"startOf",value:function(){return this.date.setHours(0,0,0,0),this}},{key:"endOf",value:function(){return this.date.setHours(23,59,59,999),this}},{key:"format",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD HH:mm:ss Z",r=arguments.length>1?arguments[1]:void 0,n=this.date,o=this.tzOffset,i=e.pad,a=n.getFullYear().toString(),u=n.getMonth()+1,s=n.getDate(),c=n.getHours(),l=c>12,f=Math.floor(l?24/c:c),p=n.getMinutes(),h=n.getSeconds(),y=n.getMilliseconds(),v=t.replace(/YYYY/g,a);return(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=v.replace(/YY/g,a.substring(2))).replace(/MMMM/g,n.toLocaleString(r,{month:"long"}))).replace(/MMM/g,n.toLocaleString(r,{month:"short"}))).replace(/MM/g,i(u))).replace(/M/g,u.toString())).replace(/DD/g,i(s))).replace(/D/g,s.toString())).replace(/dddd/g,n.toLocaleString(r,{weekday:"long"}))).replace(/ddd/g,n.toLocaleString(r,{weekday:"short"}))).replace(/HH/g,i(c))).replace(/H/g,c.toString())).replace(/hh/g,i(f))).replace(/h/g,f.toString())).replace(/mm/g,i(p))).replace(/m/g,p.toString())).replace(/SSS/g,i(y,3))).replace(/SS/g,i(y,2))).replace(/ss/g,i(h))).replace(/s/g,y.toString())).replace(/A/g,l?"PM":"AM")).replace(/a/g,l?"pm":"am")).replace(/x/g,this.valueOf().toString())).replace(/Z/g,o)}},{key:"diff",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";t=u(t,e)?t.clone():e.from(t);var n=this.clone().valueOf()-t.valueOf();switch(r){case"millisecond":return n;case"second":return 1e3*n;case"minute":return Math.round(n/6e4);case"hour":return Math.round(n/36e5);case"date":return Math.round(n/864e5);case"week":return Math.round(n/6048e5)}}},{key:"gt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)>0}},{key:"gte",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)>=0}},{key:"lt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)<0}},{key:"lte",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return this.diff(e,t)<=0}},{key:"eq",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"millisecond";return 0===this.diff(e,t)}},{key:"toString",value:function(){return this.iso}},{key:"valueOf",value:function(){return this.date.getTime()}},{key:Symbol.iterator,value:function(){return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}(this,function(e){switch(e.label){case 0:return[4,this.date.getFullYear()];case 1:return e.sent(),[4,this.date.getMonth()];case 2:return e.sent(),[4,this.date.getDate()];case 3:return e.sent(),[4,this.date.getHours()];case 4:return e.sent(),[4,this.date.getMinutes()];case 5:return e.sent(),[4,this.date.getSeconds()];case 6:return e.sent(),[4,this.date.getMilliseconds()];case 7:return e.sent(),[2]}})}}],a=[{key:"parseOffset",value:function(e){if("number"==typeof e)return e;if(e.match(/^[+-]?\d{2}:\d{2}$/)){var t=(a=e.split(":"),u=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(a,u)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(a,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],o=t[1],i=Number(o);return["+","-"].includes(n[0])?(i+=60*Number(n.substring(1)),"-"===n[0]&&(i=-i)):i+=60*Number(n.substring(1)),-i}var a,u;throw new f("Invalid offset ".concat(e,", the offset format must be a number or the string like: +07:00"))}},{key:"from",value:function(t,r){return new e(t,r)}},{key:"now",value:function(t){return e.from("now",t)}},{key:"utc",value:function(){return e.now().utc()}},{key:"yesterday",value:function(t){return e.now(t).prevDate().startOf()}},{key:"tomorrow",value:function(t){return e.now(t).nextDate().startOf()}},{key:"parse",value:function(t){if(u(t,e)?t=t.valueOf():"now"!==t&&void 0!==t||(t=Date.now()),!t)return!1;var r=new Date(t);return!Number.isNaN(r.getTime())&&r}},{key:"daysInMonth",value:function(e,t){for(var r=new Date(t||(new Date).getFullYear(),e-1,27),n=r.getMonth();r.getMonth()===n;)r.setDate(r.getDate()+1);return r.setDate(r.getDate()-1),r.getDate()}},{key:"pad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(Math.abs(e)).padStart(t,"0")}}],o&&i(t.prototype,o),a&&i(t,a),e}();t.DateTime=p},550:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanSchema=void 0;var u=r(409),s=r(645),c=r(439),l=r(161),f=r(988),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,n=arguments,r=o(r=t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,a()?Reflect.construct(r,n||[],o(e).constructor):r.apply(e,n));var e,r,n}var r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,e),r=t,(l=[{key:"buildSchema",value:function(){return{type:this.isNullable()?["null","boolean"]:"boolean",description:this.options.description,example:this.options.example}}},{key:"buildSwagger",value:function(){return{type:"boolean",required:!this.isOptional(),nullable:this.isNullable(),description:this.options.description,example:this.options.example}}},{key:"checkError",value:function(e){u.Is.boolean(e.value)||this.errors.push({code:f.schemaErrors.NOT_A_BOOLEAN})}},{key:"array",value:function(){return new c.ArraySchema(this)}},{key:"clone",value:function(){return(new t).setOptions(s.Util.clone(this.options))}}])&&n(r.prototype,l),t}(l.BaseSchema);t.BooleanSchema=p},554:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Schema=void 0;var o=r(690),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"string",value:function(){return new o.StringSchema}},{key:"number",value:function(){return new o.NumberSchema}},{key:"boolean",value:function(){return new o.BooleanSchema}},{key:"enum",value:function(e){return new o.EnumSchema(e)}},{key:"object",value:function(e){return new o.ObjectSchema(e)}},{key:"array",value:function(e){return new o.ArraySchema(e)}},{key:"trim",value:function(){return e.string().format("trim")}},{key:"strNum",value:function(){return e.string().format("number")}},{key:"content",value:function(){return e.string().format("trim").minLength(2)}},{key:"strUNum",value:function(){return e.string().format("unsignedNumber")}},{key:"strInt",value:function(){return e.string().format("integer")}},{key:"strUInt",value:function(){return e.string().format("unsignedInteger")}},{key:"strBool",value:function(){return e.string().format("boolean")}},{key:"email",value:function(){return e.string().format("email")}},{key:"safeHTML",value:function(){return e.string().allowHtml("safe")}},{key:"raw",value:function(){return e.string().allowHtml("raw")}},{key:"password",value:function(t){return e.string().strongPassword(t)}},{key:"regex",value:function(t){return e.string().format(t)}},{key:"ipv4",value:function(){return e.string().format("ipv4")}},{key:"mongoId",value:function(){return e.string().format("mongoId")}},{key:"dateTime",value:function(){return e.string().format("dateTime")}},{key:"date",value:function(){return e.string().format("date")}},{key:"time",value:function(){return e.string().format("time")}},{key:"jwt",value:function(){return e.string().format("jwt")}},{key:"uri",value:function(){return e.string().format("uri")}},{key:"imageUri",value:function(){return e.string().format("image")}},{key:"alphanum",value:function(){return e.string().format("alphanum")}},{key:"int",value:function(){return e.number().integer()}},{key:"uint",value:function(t){return e.number().integer().min(!0===t?1:0)}},{key:"unum",value:function(t){return e.number().min(!1===t?1:0)}},{key:"classRef",value:function(e){return new o.ClassRefSchema(e)}}],null&&n(t.prototype,null),r&&n(t,r),e}();t.Schema=i},645:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,r){return a=h()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&l(o,r.prototype),o},a.apply(null,arguments)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return a(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},p(e)}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.UtilRaceError=void 0;var y=r(409),v=function(e){function t(){return i(this,t),e=this,n=arguments,r=s(r=t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,h()?Reflect.construct(r,n||[],s(e).constructor):r.apply(e,n));var e,r,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),t}(p(Error));t.UtilRaceError=v;var d=function(){function e(){i(this,e)}var t,r;return t=e,r=[{key:"clone",value:function(t){if(y.Is.primitive(t))return t;var r=t;if(y.Is.object(r)&&y.Is.func(r.clone))return r.clone();if(c(r,Date))return new Date(r);if(c(r,RegExp))return new RegExp(r.source,r.flags);if(c(r,Set)){var n=new Set;return r.forEach(function(t){return n.add(e.clone(t))}),n}if(c(r,Map)){var o=new Map;return r.forEach(function(t,r){return o.set(r,e.clone(t))}),o}if(y.Is.array(r)){var i=[];return r.forEach(function(t){return i.push(e.clone(t))}),i}if(y.Is.object(r)){var a,u={};return(a=Object).assign.apply(a,[u].concat(f(Object.keys(r).map(function(t){return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,e.clone(r[t]))})))),u}if("function"==typeof(null==r?void 0:r.constructor)){var s="function"==typeof r.valueOf?r.valueOf():void 0;if(s&&Object(s)!==s)return new r.constructor(s)}return r}},{key:"call",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i;return y.Is.class(t)?a(t,f(n)):y.Is.callable(t)?(i=t).call.apply(i,[e].concat(f(n))):t}},{key:"callAsync",value:function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var a;return Promise.resolve((a=e).call.apply(a,[t,r].concat(f(o))))}},{key:"sort",value:function(e,t){var r=null==t?void 0:t.key,n=!0===(null==t?void 0:t.desc),o=function(e,t){return n?e>t?-1:e<t?1:0:e<t?-1:e>t?1:0};if(Array.isArray(e))r?e.sort(function(e,t){return y.Is.object(e)&&y.Is.object(t)?o(e[r],t[r]):o(e,t)}):e.sort(o);else if(y.Is.object(e)){var i=Object.keys(e),a={};i.sort(function(e,t){var r=/^-?\d+\.?\d*$/;return r.test(e)&&r.test(t)?o(Number(e),Number(t)):o(e,t)});var u=!0,s=!1,c=void 0;try{for(var l,f=i[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var p=l.value;a[p]=e[p]}}catch(e){s=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw c}}for(var h in e)delete e[h];Object.assign(e,a)}return e}},{key:"baseName",value:function(e,t){var r=e,n=r.charAt(r.length-1);return"/"!==n&&"\\"!==n||(r=r.slice(0,-1)),r=r.replace(/^.*[/\\]/g,""),"string"==typeof t&&r.substring(r.length-t.length)===t&&(r=r.substring(0,r.length-t.length)),r}},{key:"dirName",value:function(e){return e.replace(/\\/g,"/").replace(/\/[^/]*\/?$/,"")}},{key:"race",value:function(t,r){return(n=function(){return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}(this,function(n){switch(n.label){case 0:return[4,Promise.race([Promise.resolve(e.callAsync(null,t)),new Promise(function(e,t){setTimeout(function(){return t(new v("Race timeout."))},r)})])];case 1:return[2,n.sent()]}})},function(){var e=this,t=arguments;return new Promise(function(r,i){var a=n.apply(e,t);function u(e){o(a,r,i,u,s,"next",e)}function s(e){o(a,r,i,u,s,"throw",e)}u(void 0)})})();var n}},{key:"numberFormat",value:function(e,t){var r,n,o,i;if(isNaN(e))return"NaN";var a=e.toFixed(null!==(n=null==t?void 0:t.decimals)&&void 0!==n?n:0).replace(".",null!==(o=null==t?void 0:t.decimalPoint)&&void 0!==o?o:".").replace(/\B(?=(\d{3})+(?!\d))/g,null!==(i=null==t?void 0:t.separator)&&void 0!==i?i:",");return(null==t?void 0:t.prefix)&&(a="".concat(t.prefix).concat(a)),(null==t?void 0:t.suffix)&&(a="".concat(a).concat(t.suffix)),(null==t||null===(r=t.pattern)||void 0===r?void 0:r.includes("{value}"))&&(a=t.pattern.replace("{value}",a)),a}},{key:"uFirst",value:function(e){return e.length>1?"".concat(e[0].toUpperCase()).concat(e.substring(1)):e}},{key:"lFirst",value:function(e){return e.length>1?"".concat(e[0].toLowerCase()).concat(e.substring(1)):e}},{key:"toCapitalize",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.split(/\b/).map(e.uFirst);return r?n.filter(function(e){return!!e.trim()&&!/\W/.test(e)}).join(""):n.join("")}},{key:"toCamelCase",value:function(t){return e.lFirst(e.toCapitalize(t,!0))}},{key:"camelToSnackCase",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];t.push(o===o.toUpperCase()?"_".concat(o):o)}return t.join("").toLowerCase()}},{key:"snackToCamelCase",value:function(e){for(var t=[],r=!1,n=0,o=e.length;n<o;n++){var i=e[n];"_"!==i?r?(r=!1,t.push(i.toUpperCase())):t.push(i.toLowerCase()):r=!0}return t[0]&&(t[0]=t[0].toLowerCase()),t.join("")}},{key:"cloneObjectToCamelCase",value:function(t){if(!y.Is.object(t))return t;var r={},n=function(t,r){for(var o in t){var i=e.snackToCamelCase(o);y.Is.array(t[o])||y.Is.object(t[o])?(r[i]=y.Is.array(t[o])?[]:{},n(t[o],r[i])):r[i]=t[o]}};return n(e.clone(t),r),r}},{key:"truncate",value:function(e,t){var r=t.pad||"...",n=t.maxLength||50;if(e=e.trim(),!0===t.wordCount){var o=e.split(/\s+/),i=o.length,a=o.slice(0,n);e=a.join(" "),i>a.length&&(e+=r)}else e.length>(e=e.substring(0,n)).length&&(e+=r);return e}},{key:"repeat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e;if((t=parseInt(t.toString()))<=0)return"";for(;--t>0;)r="".concat(r).concat(e);return r}}],null&&u(t.prototype,null),r&&u(t,r),e}();t.Util=d},690:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(439),t),o(r(161),t),o(r(550),t),o(r(38),t),o(r(988),t),o(r(105),t),o(r(862),t),o(r(59),t),o(r(833),t)},766:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var u=r(645),s=r(409),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events=[]}var t,r,n;return t=e,r=[{key:"events",get:function(){return this._events}},{key:"on",value:function(t,r,n){return s.Is.callable(r)&&!this._events.find(function(e){return!0===e.once})&&(this._events.push({name:t,handler:r,once:!1,disabled:!1,priority:s.Is.number(n)?n:e.NORMAL}),u.Util.sort(this._events,{key:"priority",desc:!0})),this}},{key:"once",value:function(t,r){if(Array.isArray(t)){var n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;this.once(s,r)}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}}else this._events.find(function(e){return!0===e.once})||this._events.push({name:t,handler:r,once:!0,disabled:!1,priority:e.NORMAL});return this}},{key:"has",value:function(e){return-1!==this._events.findIndex(function(t){return t.name===e})}},{key:"remove",value:function(e){if(void 0===e)this._events.splice(0,this._events.length);else if(Array.isArray(e)){var t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.remove(a)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}else{var u=this._events.findIndex(function(t){return t.name===e});-1!==u&&this._events.splice(u,1)}return this}},{key:"off",value:function(e){var t=void 0===e?[]:Array.isArray(e)?e:[e];return this._events.forEach(function(e){return(!t.length||t.includes(e.name))&&!e.disabled&&(e.disabled=!0)}),this}},{key:"open",value:function(e){var t=void 0===e?[]:Array.isArray(e)?e:[e];return this._events.forEach(function(e){return(!t.length||t.includes(e.name))&&e.disabled&&(e.disabled=!1)}),this}},{key:"getEventHandlers",value:function(e){var t=Array.isArray(e)?e:[e];return this._events.filter(function(e){return t.includes(e.name)&&!e.disabled})}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=[],i=!0,s=!1,c=void 0;try{for(var l,f=this.getEventHandlers(e)[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var p,h=l.value;o.push((p=u.Util).call.apply(p,[this,h.handler].concat(a(r)))),h.once&&this.remove(h.name)}}catch(e){s=!0,c=e}finally{try{i||null==f.return||f.return()}finally{if(s)throw c}}return o}},{key:"emitAsync",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Promise.all(this.emit.apply(this,[e].concat(a(r))))}},{key:"emitAsyncSequently",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return(i=function(){var t,n,o,i,s,c,l,f,p,h;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}(this,function(y){switch(y.label){case 0:t=[],n=!0,o=!1,i=void 0,y.label=1;case 1:y.trys.push([1,6,7,8]),s=this.getEventHandlers(e)[Symbol.iterator](),y.label=2;case 2:return(n=(c=s.next()).done)?[3,5]:(l=c.value,p=t.push,[4,(f=u.Util).callAsync.apply(f,[this,l.handler].concat(a(r)))]);case 3:p.apply(t,[y.sent()]),y.label=4;case 4:return n=!0,[3,2];case 5:return[3,8];case 6:return h=y.sent(),o=!0,i=h,[3,8];case 7:try{n||null==s.return||s.return()}finally{if(o)throw i}return[7];case 8:return[2,t]}})},function(){var e=this,t=arguments;return new Promise(function(r,n){var a=i.apply(e,t);function u(e){o(a,r,n,u,s,"next",e)}function s(e){o(a,r,n,u,s,"throw",e)}u(void 0)})}).call(this);var i}}],n=[{key:"HIGH",get:function(){return 100}},{key:"MEDIUM",get:function(){return 50}},{key:"NORMAL",get:function(){return 25}},{key:"LOW",get:function(){return 0}},{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],r&&i(t.prototype,r),n&&i(t,n),e}();t.EventEmitter=c},769:(e,t)=>{"use strict";function r(e,t,n){return r=a()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&o(i,r.prototype),i},r.apply(null,arguments)}function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return r(e,arguments,n(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o(a,e)},i(e)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.IsError=void 0;var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,o=arguments,r=n(r=t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,a()?Reflect.construct(r,o||[],n(e).constructor):r.apply(e,o));var e,r,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,e),t}(i(Error));t.IsError=u},833:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.StringSchema=void 0;var l=r(409),f=r(221),p=r(645),h=r(439),y=r(161),v=r(988),d=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,r){return t=i(t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,c()?Reflect.construct(t,r||[],i(e).constructor):t.apply(e,r))}(this,t,arguments)).options={},e}var r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),r=t,(o=[{key:"minLength",value:function(e){return this.options.minLength=e,this}},{key:"maxLength",value:function(e){return this.options.maxLength=e,this}},{key:"format",value:function(e){return this.options.format=e,this}},{key:"strongPassword",value:function(e){return this.options.strongPassword=null!=e?e:{},this}},{key:"allowHtml",value:function(e){return this.options.allowHtml=void 0===e?"safe":e,this}},{key:"buildSchema",value:function(){return{type:this.isNullable()?["null","string"]:"string",minLength:this.options.minLength,maxLength:this.options.maxLength,description:this.options.description,example:this.options.example,format:"dateTime"===this.options.format?"date-time":["date","time","email","ipv4","ipv6","uri"].includes(this.options.format)?this.options.format:void 0}}},{key:"buildSwagger",value:function(){var e={type:"string",required:!this.isOptional(),nullable:this.isNullable(),description:this.options.description,example:this.options.example};if(this.options.strongPassword)e.format="password";else if(this.options.format)switch(this.options.format){case"date":e.format="date";break;case"dateTime":e.format="date-time";break;case"base64":e.format="byte";break;case"image":e.format="uri";break;case"mongoId":e.pattern="^[0-9a-f]{24}$";break;case"binary":e.type="file";break;default:a(this.options.format,RegExp)?e.pattern=this.options.format.source:e.format=this.options.format}return e}},{key:"checkError",value:function(e){var t=e.value;if(l.Is.string(t)){if(this.options.format&&!l.Is.stringFormat(t,this.options.format)){var r=a(this.options.format,RegExp)?"RegExp":this.options.format;this.errors.push({code:v.schemaErrors.INVALID_STRING_FORMAT,meta:{format:r}})}if("raw"===this.options.allowHtml||this.options.format||this.options.strongPassword||(t="safe"===this.options.allowHtml?f.Transform.toSafeHtml(t).trim():f.Transform.toStripTags(t).trim()),this.options.strongPassword&&!l.Is.strongPassword(t,this.options.strongPassword)&&this.errors.push({code:v.schemaErrors.NOT_STRONG_PASSWORD,meta:u({},this.options.strongPassword)}),l.Is.number(this.options.minLength)&&t.length<this.options.minLength&&this.errors.push({code:v.schemaErrors.STRING_MIN_LENGTH,meta:{minLength:this.options.minLength}}),l.Is.number(this.options.maxLength)&&t.length>this.options.maxLength&&this.errors.push({code:v.schemaErrors.STRING_MAX_LENGTH,meta:{maxLength:this.options.maxLength}}),!this.errors.length){switch(this.options.format){case"boolean":t=f.Transform.toBoolean(t);break;case"number":case"unsignedNumber":case"integer":case"unsignedInteger":t=f.Transform.toNumber(t)}e.value=t}}else this.errors.push({code:v.schemaErrors.NOT_A_STRING})}},{key:"array",value:function(){return new h.ArraySchema(this)}},{key:"clone",value:function(){return(new t).setOptions(p.Util.clone(this.options))}}])&&n(r.prototype,o),t}(y.BaseSchema);t.StringSchema=d},862:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.NumberSchema=void 0;var u=r(409),s=r(645),c=r(439),l=r(161),f=r(988),p=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,r){return t=o(t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,a()?Reflect.construct(t,r||[],o(e).constructor):t.apply(e,r))}(this,t,arguments)).options={},e}var r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,e),r=t,(l=[{key:"integer",value:function(e){return this.options.integer=void 0===e||!0===e,this}},{key:"min",value:function(e){return this.options.min=e,this}},{key:"max",value:function(e){return this.options.max=e,this}},{key:"buildSchema",value:function(){var e=!0===this.options.integer?"integer":"number";return{type:this.isNullable()?["null",e]:e,minimum:this.options.min,maximum:this.options.max,description:this.options.description}}},{key:"buildSwagger",value:function(){return{type:!0===this.options.integer?"integer":"number",required:!this.isOptional(),nullable:this.isNullable(),description:this.options.description,example:this.options.example,minimum:this.options.min,maximum:this.options.max}}},{key:"checkError",value:function(e){var t=e.value;u.Is.number(t)?(this.options.integer&&!Number.isInteger(t)&&this.errors.push({code:f.schemaErrors.NOT_AN_INTEGER}),u.Is.number(this.options.min)&&t<this.options.min&&this.errors.push({code:f.schemaErrors.NUMBER_MINIMUM,meta:{min:this.options.min}}),u.Is.number(this.options.max)&&t>this.options.max&&this.errors.push({code:f.schemaErrors.NUMBER_MAXIMUM,meta:{min:this.options.max}})):this.errors.push({code:this.options.integer?f.schemaErrors.NOT_AN_INTEGER:f.schemaErrors.NOT_A_NUMBER})}},{key:"array",value:function(){return new c.ArraySchema(this)}},{key:"clone",value:function(){return(new t).setOptions(s.Util.clone(this.options))}}])&&n(r.prototype,l),t}(l.BaseSchema);t.NumberSchema=p},877:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(540),t),o(r(766),t),o(r(645),t),o(r(481),t),o(r(409),t),o(r(902),t),o(r(690),t),o(r(554),t),o(r(221),t)},885:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(769),t),o(r(877),t)},901:(e,t,r)=>{function n(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}var i;!function(e){!function(){var t="object"===("undefined"==typeof globalThis?"undefined":o(globalThis))?globalThis:"object"===(void 0===r.g?"undefined":o(r.g))?r.g:"object"===("undefined"==typeof self?"undefined":o(self))?self:"object"===o(this)?this:function(){try{return Function("return this;")()}catch(e){}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}(),i=a(e);function a(e,t){return function(r,n){Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0!==t.Reflect&&(i=a(t.Reflect,i)),function(e,t){var r=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,a=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",u=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,c=n({__proto__:[]},Array),l=!s&&!c,f={create:s?function(){return Y(Object.create(null))}:c?function(){return Y({__proto__:null})}:function(){return Y({})},has:l?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:l?function(e,t){return r.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},p=Object.getPrototypeOf(Function),h="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[u]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,o=r+1;o<n;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,L(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,o)},t.prototype.entries=function(){return new r(this._keys,this._values,i)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[u]=function(){return this.entries()},t.prototype._find=function(e,t){if(!L(this._cacheKey,e)){this._cacheIndex=-1;for(var r=0;r<this._keys.length;r++)if(L(this._keys[r],e)){this._cacheIndex=r;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function o(e,t){return t}function i(e,t){return[e,t]}}(),y="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[u]=function(){return this.keys()},e}(),v="function"==typeof WeakMap?WeakMap:function(){var e=f.create(),t=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&f.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?f.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var t;do{t="@@WeakMap@@"+a()}while(f.has(e,t));return e[t]=!0,t}function o(e,n){if(!r.call(e,t)){if(!n)return;Object.defineProperty(e,t,{value:f.create()})}return e[t]}function i(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function a(){var e=function(e){if("function"==typeof Uint8Array){var t=new Uint8Array(e);return"undefined"!=typeof crypto?crypto.getRandomValues(t):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(t):i(t,e),t}return i(new Array(e),e)}(16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",r=0;r<16;++r){var n=e[r];4!==r&&6!==r&&8!==r||(t+="-"),n<16&&(t+="0"),t+=n.toString(16).toLowerCase()}return t}}(),d=i?Symbol.for("@reflect-metadata:registry"):void 0,b=function(){var e;return!P(d)&&I(t.Reflect)&&Object.isExtensible(t.Reflect)&&(e=t.Reflect[d]),P(e)&&(e=function(){var e,r,n,o;P(d)||void 0===t.Reflect||d in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(i=t.Reflect,a=i.defineMetadata,u=i.hasOwnMetadata,s=i.getOwnMetadata,c=i.getOwnMetadataKeys,l=i.deleteMetadata,f=new v,e={isProviderFor:function(e,t){var r=f.get(e);return!(P(r)||!r.has(t))||!!c(e,t).length&&(P(r)&&(r=new y,f.set(e,r)),r.add(t),!0)},OrdinaryDefineOwnMetadata:a,OrdinaryHasOwnMetadata:u,OrdinaryGetOwnMetadata:s,OrdinaryOwnMetadataKeys:c,OrdinaryDeleteMetadata:l});var i,a,u,s,c,l,f;var p=new v,b={registerProvider:m,getProvider:w,setProvider:_};return b;function m(t){if(!Object.isExtensible(b))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case e===t:break;case P(r):r=t;break;case r===t:break;case P(n):n=t;break;case n===t:break;default:void 0===o&&(o=new y),o.add(t)}}function g(t,i){if(!P(r)){if(r.isProviderFor(t,i))return r;if(!P(n)){if(n.isProviderFor(t,i))return r;if(!P(o))for(var a=C(o);;){var u=G(a);if(!u)return;var s=B(u);if(s.isProviderFor(t,i))return $(a),s}}}if(!P(e)&&e.isProviderFor(t,i))return e}function w(e,t){var r,n=p.get(e);return P(n)||(r=n.get(t)),P(r)?(P(r=g(e,t))||(P(n)&&(n=new h,p.set(e,n)),n.set(t,r)),r):r}function O(e){if(P(e))throw new TypeError;return r===e||n===e||!P(o)&&o.has(e)}function _(e,t,r){if(!O(r))throw new Error("Metadata provider not registered.");var n=w(e,t);if(n!==r){if(!P(n))return!1;var o=p.get(e);P(o)&&(o=new h,p.set(e,o)),o.set(t,r)}return!0}}()),!P(d)&&I(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,d,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}(),m=function(e){var t=new v,r={isProviderFor:function(e,r){var n=t.get(e);return!P(n)&&n.has(r)},OrdinaryDefineOwnMetadata:function(e,t,r,o){n(r,o,!0).set(e,t)},OrdinaryHasOwnMetadata:function(e,t,r){var o=n(t,r,!1);return!P(o)&&T(o.has(e))},OrdinaryGetOwnMetadata:function(e,t,r){var o=n(t,r,!1);if(!P(o))return o.get(e)},OrdinaryOwnMetadataKeys:function(e,t){var r=[],o=n(e,t,!1);if(P(o))return r;for(var i=C(o.keys()),a=0;;){var u=G(i);if(!u)return r.length=a,r;var s=B(u);try{r[a]=s}catch(e){try{$(i)}finally{throw e}}a++}},OrdinaryDeleteMetadata:function(e,r,o){var i=n(r,o,!1);if(P(i))return!1;if(!i.delete(e))return!1;if(0===i.size){var a=t.get(r);P(a)||(a.delete(o),0===a.size&&t.delete(a))}return!0}};return b.registerProvider(r),r;function n(n,o,i){var a=t.get(n),u=!1;if(P(a)){if(!i)return;a=new h,t.set(n,a),u=!0}var s=a.get(o);if(P(s)){if(!i)return;if(s=new h,a.set(o,s),!e.setProvider(n,o,r))throw a.delete(o),u&&t.delete(n),new Error("Wrong provider for target.")}return s}}(b);function g(e,t,r){if(w(e,t,r))return!0;var n=J(t);return!A(n)&&g(e,n,r)}function w(e,t,r){var n=W(t,r,!1);return!P(n)&&T(n.OrdinaryHasOwnMetadata(e,t,r))}function O(e,t,r){if(w(e,t,r))return _(e,t,r);var n=J(t);return A(n)?void 0:O(e,n,r)}function _(e,t,r){var n=W(t,r,!1);if(!P(n))return n.OrdinaryGetOwnMetadata(e,t,r)}function S(e,t,r,n){W(r,n,!0).OrdinaryDefineOwnMetadata(e,t,r,n)}function k(e,t){var r=E(e,t),n=J(e);if(null===n)return r;var o=k(n,t);if(o.length<=0)return r;if(r.length<=0)return o;for(var i=new y,a=[],u=0,s=r;u<s.length;u++){var c=s[u];i.has(c)||(i.add(c),a.push(c))}for(var l=0,f=o;l<f.length;l++)c=f[l],i.has(c)||(i.add(c),a.push(c));return a}function E(e,t){var r=W(e,t,!1);return r?r.OrdinaryOwnMetadataKeys(e,t):[]}function j(e){if(null===e)return 1;switch(void 0===e?"undefined":o(e)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function P(e){return void 0===e}function A(e){return null===e}function I(e){return"object"===(void 0===e?"undefined":o(e))?null!==e:"function"==typeof e}function R(e,t){switch(j(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",n=D(e,a);if(void 0!==n){var o=n.call(e,r);if(I(o))throw new TypeError;return o}return function(e,t){if("string"===t){var r=e.toString;if(x(r)&&!I(o=r.call(e)))return o;if(x(n=e.valueOf)&&!I(o=n.call(e)))return o}else{var n;if(x(n=e.valueOf)&&!I(o=n.call(e)))return o;var o,i=e.toString;if(x(i)&&!I(o=i.call(e)))return o}throw new TypeError}(e,"default"===r?"number":r)}function T(e){return!!e}function M(e){var t,r=R(e,3);return"symbol"===(void 0===(t=r)?"undefined":o(t))?r:function(e){return""+e}(r)}function N(e){return Array.isArray?Array.isArray(e):n(e,Object)?n(e,Array):"[object Array]"===Object.prototype.toString.call(e)}function x(e){return"function"==typeof e}function U(e){return"function"==typeof e}function L(e,t){return e===t||e!=e&&t!=t}function D(e,t){var r=e[t];if(null!=r){if(!x(r))throw new TypeError;return r}}function C(e){var t=D(e,u);if(!x(t))throw new TypeError;var r=t.call(e);if(!I(r))throw new TypeError;return r}function B(e){return e.value}function G(e){var t=e.next();return!t.done&&t}function $(e){var t=e.return;t&&t.call(e)}function J(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===p)return t;if(t!==p)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var o=n.constructor;return"function"!=typeof o||o===e?t:o}function W(e,t,r){var n=b.getProvider(e,t);if(!P(n))return n;if(r){if(b.setProvider(e,t,m))return m;throw new Error("Illegal state.")}}function Y(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,r,n){if(P(r)){if(!N(e))throw new TypeError;if(!U(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!P(n)&&!A(n)){if(!U(n))throw new TypeError;t=n}}return t}(e,t)}if(!N(e))throw new TypeError;if(!I(t))throw new TypeError;if(!I(n)&&!P(n)&&!A(n))throw new TypeError;return A(n)&&(n=void 0),function(e,t,r,n){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,r,n);if(!P(i)&&!A(i)){if(!I(i))throw new TypeError;n=i}}return n}(e,t,r=M(r),n)}),e("metadata",function(e,t){return function(r,n){if(!I(r))throw new TypeError;if(!P(n)&&!function(e){switch(j(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;S(e,t,r,n)}}),e("defineMetadata",function(e,t,r,n){if(!I(r))throw new TypeError;return P(n)||(n=M(n)),S(e,t,r,n)}),e("hasMetadata",function(e,t,r){if(!I(t))throw new TypeError;return P(r)||(r=M(r)),g(e,t,r)}),e("hasOwnMetadata",function(e,t,r){if(!I(t))throw new TypeError;return P(r)||(r=M(r)),w(e,t,r)}),e("getMetadata",function(e,t,r){if(!I(t))throw new TypeError;return P(r)||(r=M(r)),O(e,t,r)}),e("getOwnMetadata",function(e,t,r){if(!I(t))throw new TypeError;return P(r)||(r=M(r)),_(e,t,r)}),e("getMetadataKeys",function(e,t){if(!I(e))throw new TypeError;return P(t)||(t=M(t)),k(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!I(e))throw new TypeError;return P(t)||(t=M(t)),E(e,t)}),e("deleteMetadata",function(e,t,r){if(!I(t))throw new TypeError;if(P(r)||(r=M(r)),!I(t))throw new TypeError;P(r)||(r=M(r));var n=W(t,r,!1);return!P(n)&&n.OrdinaryDeleteMetadata(e,t,r)})}(i,t),void 0===t.Reflect&&(t.Reflect=e)}()}(i||(i={}))},902:(e,t,r)=>{"use strict";function n(e,t,r){return t=u(t),function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(e,f()?Reflect.construct(t,r||[],u(e).constructor):t.apply(e,r))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){return i=f()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&c(o,r.prototype),o},i.apply(null,arguments)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},l(e)}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.Registry=t.RegistryConsistentError=t.RegistryDataError=void 0;var p=r(409),h=r(221),y=r(766),v=r(645),d=function(e){function t(){return o(this,t),n(this,t,arguments)}return s(t,e),t}(l(Error));t.RegistryDataError=d;var b=function(e){function t(){return o(this,t),n(this,t,arguments)}return s(t,e),t}(l(Error));t.RegistryConsistentError=b;var m=function(){function e(t,r){o(this,e),this.consistent=!1,this.eventEmitter=new y.EventEmitter,this.cached={},this.parse(t,r),this.consistent=!0===(null==r?void 0:r.consistent)}var t,r,n;return t=e,n=[{key:"from",value:function(t,r){return new e(t,r)}}],(r=[{key:"extends",value:function(t){var r=this,n=function(e,t){if(p.Is.array(e)){t&&!p.Is.array(r.get(t))&&r.set(t,[]);for(var o=0,i=e.length;o<i;o++)n(e[o],"".concat(t?"".concat(t,"."):"").concat(o))}else if(p.Is.object(e))for(var a in t&&!p.Is.object(r.get(t))&&r.set(t,{}),e)n(e[a],"".concat(t?"".concat(t,"."):"").concat(a));else p.Is.primitive(e)&&t&&r.set(t,e)};return n(e.from(t).valueOf()),this}},{key:"parse",value:function(e,t){if(this.validateConsistent(),void 0===e)e={};else if(p.Is.string(e)&&["{","["].includes(e[0]))try{e=JSON.parse(e)}catch(e){throw new d("Invalid JSON string data")}else p.Is.primitive(e)||!1===(null==t?void 0:t.clone)||(e=v.Util.clone(e));if(this.data=e,!this.isPathArray()&&!this.isPathObject())throw new d("Invalid registry data, the data must be an Object<key, value> or a JSON string or an ARRAY");return!0===(null==t?void 0:t.validate)&&this.validate(),this.cached={},this}},{key:"validate",value:function(e){if(!this.isValidData(e))throw new d("The object element data must be a Record<key, value> or Array<[flat] | Record<key, value>> not from any Class/Function constructor");return this}},{key:"isValidData",value:function(e){if(e=null!=e?e:this.data,p.Is.array(e)){var t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(p.Is.object(a)&&!p.Is.json(a))return!1}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return!0}return!(p.Is.object(e)&&!p.Is.json(e))}},{key:"isPathNum",value:function(e){return/^\d+$/.test(e)}},{key:"preparePath",value:function(e){return e.match(/\[\d+\]/)&&(e=h.Transform.trim(e.replace(/\[(\d+)\]/g,".$1"),{specialChars:"."})),e}},{key:"get",value:function(e,t,r){var n=this.preparePath(e);if(void 0===this.cached[n])if(-1===n.indexOf(".")){var o;this.cached[n]=null===(o=this.data)||void 0===o?void 0:o[n]}else{for(var i=n.split("."),a=this.data,u=0,s=i.length;u<s;u++){var c=i[u];if(a=null==a?void 0:a[c],!p.Is.json(a)){a=u+1===s?a:t;break}}this.cached[n]=a}if(void 0===this.cached[n]||this.cached[n]===t)return t;var l=this.cached[n];return r&&(l=h.Transform.clean(l,r)),l}},{key:"validateConsistent",value:function(e){if(this.consistent)throw new b("This registry in consistent mode, make sure you don't get the no exists value and don't set/remove any value".concat(e?", path: ".concat(e):""))}},{key:"set",value:function(e,t,r){this.validateConsistent(e);var n=this.preparePath(e),o=this.get(e);for(var i in!0===r&&this.validate(t),this.cached)i.startsWith(n)&&delete this.cached[i];if(-1===n.indexOf(".")){var a;void 0===t?this.isPathNum(n)&&p.Is.array(this.data)?this.data.splice(Number(n),1):null===(a=this.data)||void 0===a||delete a[n]:this.data[n]=t}else{for(var u=this.data,s=n.split("."),c=s.length-1,l=0;l<c;l++){var f=s[l];if(!p.Is.json(u[f])){if(void 0===t)return this.isPathNum(f)&&p.Is.array(u[f])?u.splice(Number(f),1):null==u||delete u[f],this;u[f]=this.isPathNum(f)?[]:{}}u=u[f]}var h=s[c];this.isPathNum(h)&&p.Is.array(u)?u.splice(Number(h),1):null==u||delete u[h],void 0!==t&&p.Is.json(u)&&(u[h]=t)}var y=this.get(e);return p.Is.equals(o,y)||this.eventEmitter.emit(n,y,o),void 0===t&&this.eventEmitter.remove(n),this}},{key:"initPathValue",value:function(e,t,r){return this.has(e)||this.set(e,t,r),t}},{key:"has",value:function(e){return void 0!==this.get(e,void 0)}},{key:"is",value:function(e,t){var r=this.get(e);return void 0===t?h.Transform.toBoolean(r):r===t}},{key:"isCached",value:function(e){return this.cached.hasOwnProperty(this.preparePath(e))}},{key:"isPathArray",value:function(e){return p.Is.array(e?this.get(e):this.data)}},{key:"isPathObject",value:function(e){return p.Is.object(e?this.get(e):this.data)}},{key:"isPathFlat",value:function(e){return p.Is.primitive(this.get(e))}},{key:"remove",value:function(e){return this.set(e,void 0)}},{key:"toString",value:function(){return JSON.stringify(this.data)}},{key:"valueOf",value:function(){return this.data}},{key:"clone",value:function(){return e.from(this.data,{clone:!0,consistent:this.consistent})}},{key:"pick",value:function(t){var r=e.from(),n=!0,o=!1,i=void 0;try{for(var a,u=(p.Is.array(t)?t:[t])[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value,c=this.preparePath(s);r.set(c,this.get(c))}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r.consistent=this.consistent,r}},{key:"omit",value:function(e){var t=this.clone();t.consistent=!1;var r=!0,n=!1,o=void 0;try{for(var i,a=(p.Is.array(e)?e:[e])[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value;t.remove(this.preparePath(u))}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t.consistent=this.consistent,t}},{key:"watch",value:function(e,t){var r=!0,n=!1,o=void 0;try{for(var i,a=(p.Is.array(e)?e:[e])[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value,s=this.preparePath(u);this.eventEmitter.has(s)||this.eventEmitter.on(s,t)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}},{key:"isEmpty",value:function(){return p.Is.empty(this.valueOf())}}])&&a(t.prototype,r),n&&a(t,n),e}();t.Registry=m},988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UJS_SWAGGER_PROPERTIES_MODEL=t.UJS_SWAGGER_PROPERTIES_ARRAY=t.UJS_CLASS_PROPERTIES=t.schemaErrors=void 0,t.schemaErrors={NOT_AN_ARRAY:"MUST_BE_AN_ARRAY",NOT_AN_OBJECT:"MUST_BE_AN_OBJECT",NOT_A_STRING:"MUST_BE_A_STRING",INVALID_STRING_FORMAT:"INVALID_STRING_FORMAT",STRING_MIN_LENGTH:"STRING_MIN_LENGTH",STRING_MAX_LENGTH:"STRING_MAX_LENGTH",ARRAY_MIN_LENGTH:"ARRAY_MIN_LENGTH",ARRAY_MAX_LENGTH:"ARRAY_MAX_LENGTH",NOT_A_NUMBER:"MUST_BE_A_NUMBER",NOT_AN_INTEGER:"MUST_BE_AN_INTEGER",NUMBER_MINIMUM:"NUMBER_MINIMUM",NUMBER_MAXIMUM:"NUMBER_MAXIMUM",NOT_A_BOOLEAN:"MUST_BE_A_BOOLEAN",NOT_AN_ENUM:"MUST_BE_AN_ENUM",REQUIRED:"REQUIRED",NOT_ALLOW_NULL:"NOT_ALLOW_NULL",NOT_ALLOW_PROPERTY:"NOT_ALLOW_PROPERTY",NOT_SUITABLE_ARRAY:"NOT_SUITABLE_ARRAY",NOT_AN_UNIQUE_ARRAY:"NOT_AN_UNIQUE_ARRAY",NOT_STRONG_PASSWORD:"NOT_STRONG_PASSWORD"},t.UJS_CLASS_PROPERTIES="__UJS_CLASS_PROPERTIES__",t.UJS_SWAGGER_PROPERTIES_ARRAY="swagger/apiModelPropertiesArray",t.UJS_SWAGGER_PROPERTIES_MODEL="swagger/apiModelProperties"}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r(885)})());